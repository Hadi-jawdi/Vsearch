"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./components/Answer.tsx":
/*!*******************************!*\
  !*** ./components/Answer.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Answer\": () => (/* binding */ Answer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_history__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/history */ \"./utils/history.ts\");\n/* harmony import */ var _tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tabler/icons-react */ \"@tabler/icons-react\");\n/* harmony import */ var _tabler_icons_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst Answer = ({ searchQuery , answer , done , onReset , onAnswerUpdate  })=>{\n    // State for follow-up questions\n    const [followUpQuery, setFollowUpQuery] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"\");\n    const [isAskingFollowUp, setIsAskingFollowUp] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [previousMessages, setPreviousMessages] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([\n        {\n            role: \"user\",\n            content: searchQuery.query\n        },\n        {\n            role: \"assistant\",\n            content: answer\n        }\n    ]);\n    // State for UI\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [liked, setLiked] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"\");\n    // Refs\n    const answerRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const followUpInputRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    // Handle follow-up question submission\n    const handleFollowUpSearch = async ()=>{\n        if (!followUpQuery) {\n            setErrorMessage(\"Please enter a follow-up question\");\n            setTimeout(()=>setErrorMessage(\"\"), 3000);\n            return;\n        }\n        setIsAskingFollowUp(true);\n        setErrorMessage(\"\");\n        try {\n            // Add the follow-up question to the conversation history\n            const updatedMessages = [\n                ...previousMessages,\n                {\n                    role: \"user\",\n                    content: followUpQuery,\n                    timestamp: new Date().toISOString()\n                }\n            ];\n            // Clear the previous answer\n            onAnswerUpdate(\"\");\n            // Send the request to the API\n            const response = await fetch(\"/api/answer\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    prompt: followUpQuery,\n                    previousMessages: updatedMessages\n                })\n            });\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n            // Parse the JSON response\n            const data = await response.json();\n            if (data.content) {\n                // Update the answer with the response content\n                onAnswerUpdate(data.content);\n                // Update the conversation history with timestamp\n                const newMessage = {\n                    role: \"assistant\",\n                    content: data.content,\n                    timestamp: new Date().toISOString()\n                };\n                setPreviousMessages([\n                    ...updatedMessages,\n                    newMessage\n                ]);\n                // Reset the follow-up input\n                setFollowUpQuery(\"\");\n            } else if (data.error) {\n                throw new Error(data.error);\n            }\n        } catch (err) {\n            console.error(\"Error asking follow-up:\", err);\n            setErrorMessage(err.message || \"Error processing your follow-up question. Please try again.\");\n            onAnswerUpdate(\"Error processing your follow-up question. Please try again.\");\n        } finally{\n            setIsAskingFollowUp(false);\n        }\n    };\n    // Handle keyboard input for follow-up\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\") {\n            handleFollowUpSearch();\n        }\n    };\n    // Copy answer to clipboard\n    const copyToClipboard = ()=>{\n        if (!answerRef.current) return;\n        const text = answerRef.current.innerText;\n        navigator.clipboard.writeText(text).then(()=>{\n            setCopied(true);\n            setTimeout(()=>setCopied(false), 2000);\n        }).catch((err)=>{\n            console.error(\"Failed to copy text: \", err);\n            setErrorMessage(\"Failed to copy to clipboard\");\n            setTimeout(()=>setErrorMessage(\"\"), 3000);\n        });\n    };\n    // Share answer\n    const shareAnswer = ()=>{\n        if (navigator.share) {\n            navigator.share({\n                title: `Vsearch: ${searchQuery.query}`,\n                text: answer,\n                url: window.location.href\n            }).catch((err)=>{\n                console.error(\"Error sharing: \", err);\n                setErrorMessage(\"Error sharing content\");\n                setTimeout(()=>setErrorMessage(\"\"), 3000);\n            });\n        } else {\n            // Fallback for browsers that don't support navigator.share\n            copyToClipboard();\n        }\n    };\n    // Download answer as text file\n    const downloadAnswer = ()=>{\n        const element = document.createElement(\"a\");\n        const file = new Blob([\n            `Query: ${searchQuery.query}\\n\\n`,\n            `Answer:\\n${answer}\\n\\n`,\n            `Sources:\\n${searchQuery.sourceLinks.map((link, i)=>`[${i + 1}] ${link}`).join(\"\\n\")}`\n        ], {\n            type: \"text/plain\"\n        });\n        element.href = URL.createObjectURL(file);\n        element.download = `vsearch-${searchQuery.query.slice(0, 20).replace(/[^a-z0-9]/gi, \"-\")}.txt`;\n        document.body.appendChild(element);\n        element.click();\n        document.body.removeChild(element);\n    };\n    // Like the answer\n    const handleLike = ()=>{\n        setLiked(!liked);\n    };\n    // Share on Twitter\n    const shareOnTwitter = ()=>{\n        const tweetText = encodeURIComponent(`\"${searchQuery.query}\"\\n\\n${answer.slice(0, 200)}... (via Vsearch)`);\n        window.open(`https://twitter.com/intent/tweet?text=${tweetText}`, \"_blank\");\n    };\n    // Format source URL for display\n    const formatSourceUrl = (url)=>{\n        try {\n            const { hostname , pathname  } = new URL(url);\n            const domain = hostname.replace(/^www\\./, \"\");\n            const path = pathname === \"/\" ? \"\" : pathname.split(\"/\").slice(0, 2).join(\"/\");\n            return `${domain}${path}${path ? \"...\" : \"\"}`;\n        } catch  {\n            return url;\n        }\n    };\n    // Save to history when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if (done && answer) {\n            (0,_utils_history__WEBPACK_IMPORTED_MODULE_1__.saveToHistory)(searchQuery, answer);\n        }\n    }, [\n        done,\n        answer,\n        searchQuery\n    ]);\n    // Focus follow-up input when answer is done\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if (done && followUpInputRef.current) {\n            followUpInputRef.current.focus();\n        }\n    }, [\n        done\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-[900px] mx-auto space-y-6 py-8 px-4 sm:px-6 lg:px-8 pb-32\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col sm:flex-row sm:items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-xl sm:text-2xl font-medium text-gray-900 dark:text-gray-100 break-words\",\n                        children: searchQuery.query\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                        lineNumber: 208,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 mt-2 sm:mt-0\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onReset,\n                            className: \"flex items-center space-x-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 text-sm hover:bg-blue-200 dark:hover:bg-blue-800/40 transition-colors\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconReload, {\n                                    size: 14\n                                }, void 0, false, {\n                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                    lineNumber: 217,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: \"New Search\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                            lineNumber: 213,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                        lineNumber: 212,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                lineNumber: 207,\n                columnNumber: 7\n            }, undefined),\n            errorMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"rounded-md bg-red-100 dark:bg-red-900/30 p-3 text-red-800 dark:text-red-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: errorMessage\n                }, void 0, false, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                    lineNumber: 226,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                lineNumber: 225,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white dark:bg-zinc-800 rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-zinc-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-b border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-900/50 px-4 py-3 flex justify-between items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                                children: \"Answer\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                lineNumber: 234,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: copyToClipboard,\n                                        className: \"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors\",\n                                        title: \"Copy to clipboard\",\n                                        children: copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconCheck, {\n                                            size: 18,\n                                            className: \"text-green-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                            lineNumber: 242,\n                                            columnNumber: 25\n                                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconCopy, {\n                                            size: 18\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                            lineNumber: 242,\n                                            columnNumber: 78\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 237,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: shareAnswer,\n                                        className: \"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors\",\n                                        title: \"Share\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconShare, {\n                                            size: 18\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                            lineNumber: 250,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 245,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: downloadAnswer,\n                                        className: \"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors\",\n                                        title: \"Download as text\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconDownload, {\n                                            size: 18\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                            lineNumber: 258,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 253,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleLike,\n                                        className: `${liked ? \"text-blue-500\" : \"text-gray-500 dark:text-gray-400\"} hover:text-blue-600 transition-colors`,\n                                        title: \"Like this answer\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconThumbUp, {\n                                            size: 18\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                            lineNumber: 266,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 261,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-4 py-4 sm:px-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: answerRef,\n                            className: \"prose dark:prose-invert prose-blue max-w-none\",\n                            children: formatAnswer(answer, searchQuery.sourceLinks)\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                            lineNumber: 273,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                        lineNumber: 272,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                lineNumber: 231,\n                columnNumber: 7\n            }, undefined),\n            done && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white dark:bg-zinc-800 rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-zinc-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-b border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-900/50 px-4 py-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                            children: \"Sources\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                            lineNumber: 286,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                        lineNumber: 285,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-4 py-3 sm:px-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 sm:grid-cols-2 gap-3\",\n                            children: searchQuery.sourceLinks.map((source, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    className: \"flex items-start p-3 rounded-lg border border-gray-200 dark:border-zinc-700 hover:bg-gray-50 dark:hover:bg-zinc-700/50 transition-colors\",\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\",\n                                    href: source,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-shrink-0 flex items-center justify-center h-6 w-6 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 text-xs font-medium mr-3\",\n                                            children: index + 1\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                            lineNumber: 299,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"min-w-0 flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-medium text-gray-900 dark:text-gray-100 truncate\",\n                                                    children: formatSourceUrl(source)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                                    lineNumber: 303,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 dark:text-gray-400 flex items-center mt-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconExternalLink, {\n                                                            size: 12,\n                                                            className: \"mr-1\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                                            lineNumber: 307,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"View source\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                                            lineNumber: 308,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                                    lineNumber: 306,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                            lineNumber: 302,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                    lineNumber: 292,\n                                    columnNumber: 17\n                                }, undefined))\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                            lineNumber: 290,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                        lineNumber: 289,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                lineNumber: 284,\n                columnNumber: 9\n            }, undefined),\n            done && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white dark:bg-zinc-800 rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-zinc-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-b border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-900/50 px-4 py-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                            children: \"Ask a follow-up question\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                            lineNumber: 322,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                        lineNumber: 321,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-4 py-4 sm:px-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconSearch, {\n                                        className: \"absolute top-3 left-3 h-5 w-5 text-gray-400 dark:text-gray-500\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 327,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        ref: followUpInputRef,\n                                        className: \"block w-full rounded-md border border-gray-300 dark:border-zinc-600 bg-white dark:bg-zinc-900 pl-10 pr-12 py-2 text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-blue-500 sm:text-sm\",\n                                        type: \"text\",\n                                        placeholder: \"Ask a follow-up question...\",\n                                        value: followUpQuery,\n                                        onChange: (e)=>setFollowUpQuery(e.target.value),\n                                        onKeyDown: handleKeyDown,\n                                        disabled: isAskingFollowUp\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 329,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleFollowUpSearch,\n                                        disabled: isAskingFollowUp || !followUpQuery,\n                                        className: `absolute right-2 top-2 rounded-md px-2 py-1 text-sm ${isAskingFollowUp || !followUpQuery ? \"bg-gray-300 dark:bg-zinc-700 text-gray-500 dark:text-gray-400 cursor-not-allowed\" : \"bg-blue-500 text-white hover:bg-blue-600 transition-colors\"}`,\n                                        children: isAskingFollowUp ? \"Processing...\" : \"Ask\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 340,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                lineNumber: 326,\n                                columnNumber: 13\n                            }, undefined),\n                            isAskingFollowUp && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-3 text-sm text-gray-500 dark:text-gray-400 flex items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mr-2 h-4 w-4 rounded-full border-2 border-blue-500 border-t-transparent animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 355,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Processing your follow-up question...\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                lineNumber: 354,\n                                columnNumber: 15\n                            }, undefined),\n                            previousMessages.length > 2 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-4 border-t border-gray-200 dark:border-zinc-700 pt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2\",\n                                        children: \"Previous messages\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 363,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: previousMessages.slice(2).map((msg, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `flex ${msg.role === \"user\" ? \"justify-end\" : \"justify-start\"}`,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `rounded-lg px-3 py-2 max-w-[80%] text-sm ${msg.role === \"user\" ? \"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200\" : \"bg-gray-100 dark:bg-zinc-700 text-gray-800 dark:text-gray-200\"}`,\n                                                    children: msg.content\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                                    lineNumber: 367,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            }, idx, false, {\n                                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                                lineNumber: 366,\n                                                columnNumber: 21\n                                            }, undefined))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                        lineNumber: 364,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                                lineNumber: 362,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                        lineNumber: 325,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                lineNumber: 320,\n                columnNumber: 9\n            }, undefined),\n            done && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center space-x-4 pt-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: shareOnTwitter,\n                    className: \"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconBrandTwitter, {\n                            size: 18\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                            lineNumber: 390,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: \"Share on Twitter\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                            lineNumber: 391,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                    lineNumber: 386,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                lineNumber: 385,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n        lineNumber: 205,\n        columnNumber: 5\n    }, undefined);\n};\n// Format answer with source links\nfunction formatAnswer(answer, sourceLinks) {\n    // Replace [1], [2], etc. with linked citations\n    const formattedText = answer.split(/(\\[\\d+\\])/).map((part, index)=>{\n        const match = part.match(/\\[(\\d+)\\]/);\n        if (match) {\n            const sourceIndex = parseInt(match[1]) - 1;\n            if (sourceIndex >= 0 && sourceIndex < sourceLinks.length) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                    href: sourceLinks[sourceIndex],\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    className: \"text-blue-600 dark:text-blue-400 font-medium hover:underline\",\n                    children: part\n                }, index, false, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Answer.tsx\",\n                    lineNumber: 408,\n                    columnNumber: 11\n                }, this);\n            }\n        }\n        return part;\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: formattedText\n    }, void 0, false);\n}\n// Legacy function for backward compatibility\nfunction replaceSourcesWithLinks(answer, sourceLinks) {\n    return formatAnswer(answer, sourceLinks);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFOSWY7Ozs7O1lBU1gsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPZTtJQUNUO0lBRUEscUJBQU87a0JBQUdEOztBQUNaO0FBRUEsNkNBQTZDO0FBQzdDLFNBQVNLLHdCQUF3QjlILE1BQWMsRUFBRXNFLFdBQXFCLEVBQWU7SUFDbkYsT0FBT21DLGFBQWF6RyxRQUFRc0U7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92c2VhcmNoLy4vY29tcG9uZW50cy9BbnN3ZXIudHN4PzU3MDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZSwgU2VhcmNoUXVlcnkgfSBmcm9tIFwiQC90eXBlc1wiO1xuaW1wb3J0IHsgc2F2ZVRvSGlzdG9yeSB9IGZyb20gXCJAL3V0aWxzL2hpc3RvcnlcIjtcbmltcG9ydCB7XG4gIEljb25CcmFuZFR3aXR0ZXIsXG4gIEljb25DaGVjayxcbiAgSWNvbkNvcHksXG4gIEljb25Eb3dubG9hZCxcbiAgSWNvbkV4dGVybmFsTGluayxcbiAgSWNvblJlbG9hZCxcbiAgSWNvblNlYXJjaCxcbiAgSWNvblNoYXJlLFxuICBJY29uVGh1bWJVcFxufSBmcm9tIFwiQHRhYmxlci9pY29ucy1yZWFjdFwiO1xuaW1wb3J0IHsgRkMsIEtleWJvYXJkRXZlbnQsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbnRlcmZhY2UgQW5zd2VyUHJvcHMge1xuICBzZWFyY2hRdWVyeTogU2VhcmNoUXVlcnk7XG4gIGFuc3dlcjogc3RyaW5nO1xuICBkb25lOiBib29sZWFuO1xuICBvblJlc2V0OiAoKSA9PiB2b2lkO1xuICBvbkFuc3dlclVwZGF0ZTogKGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgQW5zd2VyOiBGQzxBbnN3ZXJQcm9wcz4gPSAoeyBzZWFyY2hRdWVyeSwgYW5zd2VyLCBkb25lLCBvblJlc2V0LCBvbkFuc3dlclVwZGF0ZSB9KSA9PiB7XG4gIC8vIFN0YXRlIGZvciBmb2xsb3ctdXAgcXVlc3Rpb25zXG4gIGNvbnN0IFtmb2xsb3dVcFF1ZXJ5LCBzZXRGb2xsb3dVcFF1ZXJ5XSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtpc0Fza2luZ0ZvbGxvd1VwLCBzZXRJc0Fza2luZ0ZvbGxvd1VwXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW3ByZXZpb3VzTWVzc2FnZXMsIHNldFByZXZpb3VzTWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihbXG4gICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogc2VhcmNoUXVlcnkucXVlcnkgfSxcbiAgICB7IHJvbGU6IFwiYXNzaXN0YW50XCIsIGNvbnRlbnQ6IGFuc3dlciB9XG4gIF0pO1xuXG4gIC8vIFN0YXRlIGZvciBVSVxuICBjb25zdCBbY29waWVkLCBzZXRDb3BpZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbbGlrZWQsIHNldExpa2VkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yTWVzc2FnZSwgc2V0RXJyb3JNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG5cbiAgLy8gUmVmc1xuICBjb25zdCBhbnN3ZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBmb2xsb3dVcElucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIC8vIEhhbmRsZSBmb2xsb3ctdXAgcXVlc3Rpb24gc3VibWlzc2lvblxuICBjb25zdCBoYW5kbGVGb2xsb3dVcFNlYXJjaCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWZvbGxvd1VwUXVlcnkpIHtcbiAgICAgIHNldEVycm9yTWVzc2FnZShcIlBsZWFzZSBlbnRlciBhIGZvbGxvdy11cCBxdWVzdGlvblwiKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3JNZXNzYWdlKFwiXCIpLCAzMDAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc0Fza2luZ0ZvbGxvd1VwKHRydWUpO1xuICAgIHNldEVycm9yTWVzc2FnZShcIlwiKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBBZGQgdGhlIGZvbGxvdy11cCBxdWVzdGlvbiB0byB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnlcbiAgICAgIGNvbnN0IHVwZGF0ZWRNZXNzYWdlczogTWVzc2FnZVtdID0gW1xuICAgICAgICAuLi5wcmV2aW91c01lc3NhZ2VzLFxuICAgICAgICB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBmb2xsb3dVcFF1ZXJ5LCB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9IGFzIE1lc3NhZ2VcbiAgICAgIF07XG5cbiAgICAgIC8vIENsZWFyIHRoZSBwcmV2aW91cyBhbnN3ZXJcbiAgICAgIG9uQW5zd2VyVXBkYXRlKFwiXCIpO1xuXG4gICAgICAvLyBTZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBBUElcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2Fuc3dlclwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcHJvbXB0OiBmb2xsb3dVcFF1ZXJ5LFxuICAgICAgICAgIHByZXZpb3VzTWVzc2FnZXM6IHVwZGF0ZWRNZXNzYWdlc1xuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgfVxuXG4gICAgICAvLyBQYXJzZSB0aGUgSlNPTiByZXNwb25zZVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKGRhdGEuY29udGVudCkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGFuc3dlciB3aXRoIHRoZSByZXNwb25zZSBjb250ZW50XG4gICAgICAgIG9uQW5zd2VyVXBkYXRlKGRhdGEuY29udGVudCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb252ZXJzYXRpb24gaGlzdG9yeSB3aXRoIHRpbWVzdGFtcFxuICAgICAgICBjb25zdCBuZXdNZXNzYWdlID0ge1xuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgY29udGVudDogZGF0YS5jb250ZW50LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0gYXMgTWVzc2FnZTtcblxuICAgICAgICBzZXRQcmV2aW91c01lc3NhZ2VzKFsuLi51cGRhdGVkTWVzc2FnZXMsIG5ld01lc3NhZ2VdKTtcblxuICAgICAgICAvLyBSZXNldCB0aGUgZm9sbG93LXVwIGlucHV0XG4gICAgICAgIHNldEZvbGxvd1VwUXVlcnkoXCJcIik7XG4gICAgICB9IGVsc2UgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYXNraW5nIGZvbGxvdy11cDpcIiwgZXJyKTtcbiAgICAgIHNldEVycm9yTWVzc2FnZShlcnIubWVzc2FnZSB8fCBcIkVycm9yIHByb2Nlc3NpbmcgeW91ciBmb2xsb3ctdXAgcXVlc3Rpb24uIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgb25BbnN3ZXJVcGRhdGUoXCJFcnJvciBwcm9jZXNzaW5nIHlvdXIgZm9sbG93LXVwIHF1ZXN0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNBc2tpbmdGb2xsb3dVcChmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhhbmRsZSBrZXlib2FyZCBpbnB1dCBmb3IgZm9sbG93LXVwXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBoYW5kbGVGb2xsb3dVcFNlYXJjaCgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDb3B5IGFuc3dlciB0byBjbGlwYm9hcmRcbiAgY29uc3QgY29weVRvQ2xpcGJvYXJkID0gKCkgPT4ge1xuICAgIGlmICghYW5zd2VyUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHRleHQgPSBhbnN3ZXJSZWYuY3VycmVudC5pbm5lclRleHQ7XG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgc2V0Q29waWVkKHRydWUpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZChmYWxzZSksIDIwMDApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY29weSB0ZXh0OiAnLCBlcnIpO1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoXCJGYWlsZWQgdG8gY29weSB0byBjbGlwYm9hcmRcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3JNZXNzYWdlKFwiXCIpLCAzMDAwKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8vIFNoYXJlIGFuc3dlclxuICBjb25zdCBzaGFyZUFuc3dlciA9ICgpID0+IHtcbiAgICBpZiAobmF2aWdhdG9yLnNoYXJlKSB7XG4gICAgICBuYXZpZ2F0b3Iuc2hhcmUoe1xuICAgICAgICB0aXRsZTogYFZzZWFyY2g6ICR7c2VhcmNoUXVlcnkucXVlcnl9YCxcbiAgICAgICAgdGV4dDogYW5zd2VyLFxuICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzaGFyaW5nOiAnLCBlcnIpO1xuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoXCJFcnJvciBzaGFyaW5nIGNvbnRlbnRcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3JNZXNzYWdlKFwiXCIpLCAzMDAwKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjayBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IG5hdmlnYXRvci5zaGFyZVxuICAgICAgY29weVRvQ2xpcGJvYXJkKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIERvd25sb2FkIGFuc3dlciBhcyB0ZXh0IGZpbGVcbiAgY29uc3QgZG93bmxvYWRBbnN3ZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGNvbnN0IGZpbGUgPSBuZXcgQmxvYihbXG4gICAgICBgUXVlcnk6ICR7c2VhcmNoUXVlcnkucXVlcnl9XFxuXFxuYCxcbiAgICAgIGBBbnN3ZXI6XFxuJHthbnN3ZXJ9XFxuXFxuYCxcbiAgICAgIGBTb3VyY2VzOlxcbiR7c2VhcmNoUXVlcnkuc291cmNlTGlua3MubWFwKChsaW5rLCBpKSA9PiBgWyR7aSArIDF9XSAke2xpbmt9YCkuam9pbignXFxuJyl9YFxuICAgIF0sIHt0eXBlOiAndGV4dC9wbGFpbid9KTtcblxuICAgIGVsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgZWxlbWVudC5kb3dubG9hZCA9IGB2c2VhcmNoLSR7c2VhcmNoUXVlcnkucXVlcnkuc2xpY2UoMCwgMjApLnJlcGxhY2UoL1teYS16MC05XS9naSwgJy0nKX0udHh0YDtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIGVsZW1lbnQuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICB9O1xuXG4gIC8vIExpa2UgdGhlIGFuc3dlclxuICBjb25zdCBoYW5kbGVMaWtlID0gKCkgPT4ge1xuICAgIHNldExpa2VkKCFsaWtlZCk7XG4gIH07XG5cbiAgLy8gU2hhcmUgb24gVHdpdHRlclxuICBjb25zdCBzaGFyZU9uVHdpdHRlciA9ICgpID0+IHtcbiAgICBjb25zdCB0d2VldFRleHQgPSBlbmNvZGVVUklDb21wb25lbnQoYFwiJHtzZWFyY2hRdWVyeS5xdWVyeX1cIlxcblxcbiR7YW5zd2VyLnNsaWNlKDAsIDIwMCl9Li4uICh2aWEgVnNlYXJjaClgKTtcbiAgICB3aW5kb3cub3BlbihgaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dGV4dD0ke3R3ZWV0VGV4dH1gLCAnX2JsYW5rJyk7XG4gIH07XG5cbiAgLy8gRm9ybWF0IHNvdXJjZSBVUkwgZm9yIGRpc3BsYXlcbiAgY29uc3QgZm9ybWF0U291cmNlVXJsID0gKHVybDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBob3N0bmFtZSwgcGF0aG5hbWUgfSA9IG5ldyBVUkwodXJsKTtcbiAgICAgIGNvbnN0IGRvbWFpbiA9IGhvc3RuYW1lLnJlcGxhY2UoL153d3dcXC4vLCAnJyk7XG4gICAgICBjb25zdCBwYXRoID0gcGF0aG5hbWUgPT09ICcvJyA/ICcnIDogcGF0aG5hbWUuc3BsaXQoJy8nKS5zbGljZSgwLCAyKS5qb2luKCcvJyk7XG4gICAgICByZXR1cm4gYCR7ZG9tYWlufSR7cGF0aH0ke3BhdGggPyAnLi4uJyA6ICcnfWA7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgfTtcblxuICAvLyBTYXZlIHRvIGhpc3Rvcnkgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRvbmUgJiYgYW5zd2VyKSB7XG4gICAgICBzYXZlVG9IaXN0b3J5KHNlYXJjaFF1ZXJ5LCBhbnN3ZXIpO1xuICAgIH1cbiAgfSwgW2RvbmUsIGFuc3dlciwgc2VhcmNoUXVlcnldKTtcblxuICAvLyBGb2N1cyBmb2xsb3ctdXAgaW5wdXQgd2hlbiBhbnN3ZXIgaXMgZG9uZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChkb25lICYmIGZvbGxvd1VwSW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgZm9sbG93VXBJbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfVxuICB9LCBbZG9uZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1bOTAwcHhdIG14LWF1dG8gc3BhY2UteS02IHB5LTggcHgtNCBzbTpweC02IGxnOnB4LTggcGItMzJcIj5cbiAgICAgIHsvKiBRdWVyeSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTppdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LXhsIHNtOnRleHQtMnhsIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwIGJyZWFrLXdvcmRzXCI+XG4gICAgICAgICAge3NlYXJjaFF1ZXJ5LnF1ZXJ5fVxuICAgICAgICA8L2gxPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIG10LTIgc206bXQtMFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uUmVzZXR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgcm91bmRlZC1mdWxsIGJnLWJsdWUtMTAwIGRhcms6YmctYmx1ZS05MDAvMzAgdGV4dC1ibHVlLTcwMCBkYXJrOnRleHQtYmx1ZS0zMDAgcHgtMyBweS0xIHRleHQtc20gaG92ZXI6YmctYmx1ZS0yMDAgZGFyazpob3ZlcjpiZy1ibHVlLTgwMC80MCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEljb25SZWxvYWQgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgICA8c3Bhbj5OZXcgU2VhcmNoPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRXJyb3IgbWVzc2FnZSAqL31cbiAgICAgIHtlcnJvck1lc3NhZ2UgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgYmctcmVkLTEwMCBkYXJrOmJnLXJlZC05MDAvMzAgcC0zIHRleHQtcmVkLTgwMCBkYXJrOnRleHQtcmVkLTIwMFwiPlxuICAgICAgICAgIDxwPntlcnJvck1lc3NhZ2V9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBBbnN3ZXIgY2FyZCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy16aW5jLTgwMCByb3VuZGVkLXhsIHNoYWRvdy1tZCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci16aW5jLTcwMFwiPlxuICAgICAgICB7LyogQW5zd2VyIGhlYWRlciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItemluYy03MDAgYmctZ3JheS01MCBkYXJrOmJnLXppbmMtOTAwLzUwIHB4LTQgcHktMyBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5BbnN3ZXI8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17Y29weVRvQ2xpcGJvYXJkfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTIwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgIHRpdGxlPVwiQ29weSB0byBjbGlwYm9hcmRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Y29waWVkID8gPEljb25DaGVjayBzaXplPXsxOH0gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi01MDBcIiAvPiA6IDxJY29uQ29weSBzaXplPXsxOH0gLz59XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtzaGFyZUFuc3dlcn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0yMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICB0aXRsZT1cIlNoYXJlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb25TaGFyZSBzaXplPXsxOH0gLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2Rvd25sb2FkQW5zd2VyfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTIwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgIHRpdGxlPVwiRG93bmxvYWQgYXMgdGV4dFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uRG93bmxvYWQgc2l6ZT17MTh9IC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMaWtlfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake2xpa2VkID8gJ3RleHQtYmx1ZS01MDAnIDogJ3RleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwJ30gaG92ZXI6dGV4dC1ibHVlLTYwMCB0cmFuc2l0aW9uLWNvbG9yc2B9XG4gICAgICAgICAgICAgIHRpdGxlPVwiTGlrZSB0aGlzIGFuc3dlclwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uVGh1bWJVcCBzaXplPXsxOH0gLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogQW5zd2VyIGNvbnRlbnQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS00IHNtOnB4LTZcIj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICByZWY9e2Fuc3dlclJlZn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb3NlIGRhcms6cHJvc2UtaW52ZXJ0IHByb3NlLWJsdWUgbWF4LXctbm9uZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2Zvcm1hdEFuc3dlcihhbnN3ZXIsIHNlYXJjaFF1ZXJ5LnNvdXJjZUxpbmtzKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFNvdXJjZXMgc2VjdGlvbiAqL31cbiAgICAgIHtkb25lICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLXppbmMtODAwIHJvdW5kZWQteGwgc2hhZG93LW1kIG92ZXJmbG93LWhpZGRlbiBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLXppbmMtNzAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItemluYy03MDAgYmctZ3JheS01MCBkYXJrOmJnLXppbmMtOTAwLzUwIHB4LTQgcHktM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+U291cmNlczwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTMgc206cHgtNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0yIGdhcC0zXCI+XG4gICAgICAgICAgICAgIHtzZWFyY2hRdWVyeS5zb3VyY2VMaW5rcy5tYXAoKHNvdXJjZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgcC0zIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci16aW5jLTcwMCBob3ZlcjpiZy1ncmF5LTUwIGRhcms6aG92ZXI6YmctemluYy03MDAvNTAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgaHJlZj17c291cmNlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLTYgdy02IHJvdW5kZWQtZnVsbCBiZy1ibHVlLTEwMCBkYXJrOmJnLWJsdWUtOTAwLzMwIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtMzAwIHRleHQteHMgZm9udC1tZWRpdW0gbXItM1wiPlxuICAgICAgICAgICAgICAgICAgICB7aW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi13LTAgZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0U291cmNlVXJsKHNvdXJjZSl9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEljb25FeHRlcm5hbExpbmsgc2l6ZT17MTJ9IGNsYXNzTmFtZT1cIm1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlZpZXcgc291cmNlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIEZvbGxvdy11cCBxdWVzdGlvbiBzZWN0aW9uICovfVxuICAgICAge2RvbmUgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctemluYy04MDAgcm91bmRlZC14bCBzaGFkb3ctbWQgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItemluYy03MDBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci16aW5jLTcwMCBiZy1ncmF5LTUwIGRhcms6YmctemluYy05MDAvNTAgcHgtNCBweS0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5Bc2sgYSBmb2xsb3ctdXAgcXVlc3Rpb248L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS00IHNtOnB4LTZcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgPEljb25TZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgbGVmdC0zIGgtNSB3LTUgdGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS01MDBcIiAvPlxuXG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHJlZj17Zm9sbG93VXBJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLXppbmMtNjAwIGJnLXdoaXRlIGRhcms6YmctemluYy05MDAgcGwtMTAgcHItMTIgcHktMiB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMCBmb2N1czpib3JkZXItYmx1ZS01MDAgZm9jdXM6cmluZy1ibHVlLTUwMCBzbTp0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBc2sgYSBmb2xsb3ctdXAgcXVlc3Rpb24uLi5cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtmb2xsb3dVcFF1ZXJ5fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Rm9sbG93VXBRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0Fza2luZ0ZvbGxvd1VwfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVGb2xsb3dVcFNlYXJjaH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNBc2tpbmdGb2xsb3dVcCB8fCAhZm9sbG93VXBRdWVyeX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSByaWdodC0yIHRvcC0yIHJvdW5kZWQtbWQgcHgtMiBweS0xIHRleHQtc20gJHtcbiAgICAgICAgICAgICAgICAgIGlzQXNraW5nRm9sbG93VXAgfHwgIWZvbGxvd1VwUXVlcnlcbiAgICAgICAgICAgICAgICAgICAgPyBcImJnLWdyYXktMzAwIGRhcms6YmctemluYy03MDAgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgY3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcImJnLWJsdWUtNTAwIHRleHQtd2hpdGUgaG92ZXI6YmctYmx1ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzQXNraW5nRm9sbG93VXAgPyBcIlByb2Nlc3NpbmcuLi5cIiA6IFwiQXNrXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHtpc0Fza2luZ0ZvbGxvd1VwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1yLTIgaC00IHctNCByb3VuZGVkLWZ1bGwgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIGJvcmRlci10LXRyYW5zcGFyZW50IGFuaW1hdGUtc3BpblwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIFByb2Nlc3NpbmcgeW91ciBmb2xsb3ctdXAgcXVlc3Rpb24uLi5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogQ29udmVyc2F0aW9uIGhpc3RvcnkgKi99XG4gICAgICAgICAgICB7cHJldmlvdXNNZXNzYWdlcy5sZW5ndGggPiAyICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci16aW5jLTcwMCBwdC00XCI+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMlwiPlByZXZpb3VzIG1lc3NhZ2VzPC9oMz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAge3ByZXZpb3VzTWVzc2FnZXMuc2xpY2UoMikubWFwKChtc2csIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9e2BmbGV4ICR7bXNnLnJvbGUgPT09ICd1c2VyJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Byb3VuZGVkLWxnIHB4LTMgcHktMiBtYXgtdy1bODAlXSB0ZXh0LXNtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cucm9sZSA9PT0gJ3VzZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtMTAwIGRhcms6YmctYmx1ZS05MDAvMzAgdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIGRhcms6YmctemluYy03MDAgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5jb250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFNoYXJlIHNlY3Rpb24gKi99XG4gICAgICB7ZG9uZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBzcGFjZS14LTQgcHQtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3NoYXJlT25Ud2l0dGVyfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ibHVlLTUwMCBkYXJrOmhvdmVyOnRleHQtYmx1ZS00MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxJY29uQnJhbmRUd2l0dGVyIHNpemU9ezE4fSAvPlxuICAgICAgICAgICAgPHNwYW4+U2hhcmUgb24gVHdpdHRlcjwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gRm9ybWF0IGFuc3dlciB3aXRoIHNvdXJjZSBsaW5rc1xuZnVuY3Rpb24gZm9ybWF0QW5zd2VyKGFuc3dlcjogc3RyaW5nLCBzb3VyY2VMaW5rczogc3RyaW5nW10pOiBKU1guRWxlbWVudCB7XG4gIC8vIFJlcGxhY2UgWzFdLCBbMl0sIGV0Yy4gd2l0aCBsaW5rZWQgY2l0YXRpb25zXG4gIGNvbnN0IGZvcm1hdHRlZFRleHQgPSBhbnN3ZXIuc3BsaXQoLyhcXFtcXGQrXFxdKS8pLm1hcCgocGFydCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBtYXRjaCA9IHBhcnQubWF0Y2goL1xcWyhcXGQrKVxcXS8pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgY29uc3Qgc291cmNlSW5kZXggPSBwYXJzZUludChtYXRjaFsxXSkgLSAxO1xuICAgICAgaWYgKHNvdXJjZUluZGV4ID49IDAgJiYgc291cmNlSW5kZXggPCBzb3VyY2VMaW5rcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8YVxuICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgIGhyZWY9e3NvdXJjZUxpbmtzW3NvdXJjZUluZGV4XX1cbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwIGZvbnQtbWVkaXVtIGhvdmVyOnVuZGVybGluZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3BhcnR9XG4gICAgICAgICAgPC9hPlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydDtcbiAgfSk7XG5cbiAgcmV0dXJuIDw+e2Zvcm1hdHRlZFRleHR9PC8+O1xufVxuXG4vLyBMZWdhY3kgZnVuY3Rpb24gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmZ1bmN0aW9uIHJlcGxhY2VTb3VyY2VzV2l0aExpbmtzKGFuc3dlcjogc3RyaW5nLCBzb3VyY2VMaW5rczogc3RyaW5nW10pOiBKU1guRWxlbWVudCB7XG4gIHJldHVybiBmb3JtYXRBbnN3ZXIoYW5zd2VyLCBzb3VyY2VMaW5rcyk7XG59XG4iXSwibmFtZXMiOlsic2F2ZVRvSGlzdG9yeSIsIkljb25CcmFuZFR3aXR0ZXIiLCJJY29uQ2hlY2siLCJJY29uQ29weSIsIkljb25Eb3dubG9hZCIsIkljb25FeHRlcm5hbExpbmsiLCJJY29uUmVsb2FkIiwiSWNvblNlYXJjaCIsIkljb25TaGFyZSIsIkljb25UaHVtYlVwIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJBbnN3ZXIiLCJzZWFyY2hRdWVyeSIsImFuc3dlciIsImRvbmUiLCJvblJlc2V0Iiwib25BbnN3ZXJVcGRhdGUiLCJmb2xsb3dVcFF1ZXJ5Iiwic2V0Rm9sbG93VXBRdWVyeSIsImlzQXNraW5nRm9sbG93VXAiLCJzZXRJc0Fza2luZ0ZvbGxvd1VwIiwicHJldmlvdXNNZXNzYWdlcyIsInNldFByZXZpb3VzTWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInF1ZXJ5IiwiY29waWVkIiwic2V0Q29waWVkIiwibGlrZWQiLCJzZXRMaWtlZCIsImVycm9yTWVzc2FnZSIsInNldEVycm9yTWVzc2FnZSIsImFuc3dlclJlZiIsImZvbGxvd1VwSW5wdXRSZWYiLCJoYW5kbGVGb2xsb3dVcFNlYXJjaCIsInNldFRpbWVvdXQiLCJ1cGRhdGVkTWVzc2FnZXMiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvbXB0Iiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJkYXRhIiwianNvbiIsIm5ld01lc3NhZ2UiLCJlcnJvciIsImVyciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJjb3B5VG9DbGlwYm9hcmQiLCJjdXJyZW50IiwidGV4dCIsImlubmVyVGV4dCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInRoZW4iLCJjYXRjaCIsInNoYXJlQW5zd2VyIiwic2hhcmUiLCJ0aXRsZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImRvd25sb2FkQW5zd2VyIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImZpbGUiLCJCbG9iIiwic291cmNlTGlua3MiLCJtYXAiLCJsaW5rIiwiaSIsImpvaW4iLCJ0eXBlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJzbGljZSIsInJlcGxhY2UiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJoYW5kbGVMaWtlIiwic2hhcmVPblR3aXR0ZXIiLCJ0d2VldFRleHQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvcGVuIiwiZm9ybWF0U291cmNlVXJsIiwiaG9zdG5hbWUiLCJwYXRobmFtZSIsImRvbWFpbiIsInBhdGgiLCJzcGxpdCIsImZvY3VzIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsInNwYW4iLCJwIiwicmVmIiwiZm9ybWF0QW5zd2VyIiwic291cmNlIiwiaW5kZXgiLCJhIiwidGFyZ2V0IiwicmVsIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJvbktleURvd24iLCJkaXNhYmxlZCIsImxlbmd0aCIsImgzIiwibXNnIiwiaWR4IiwiZm9ybWF0dGVkVGV4dCIsInBhcnQiLCJtYXRjaCIsInNvdXJjZUluZGV4IiwicGFyc2VJbnQiLCJyZXBsYWNlU291cmNlc1dpdGhMaW5rcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Answer.tsx\n");

/***/ }),

/***/ "./components/DropdownMenu.tsx":
/*!*************************************!*\
  !*** ./components/DropdownMenu.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DropdownMenu)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tabler/icons-react */ \"@tabler/icons-react\");\n/* harmony import */ var _tabler_icons_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction DropdownMenu() {\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const menuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Close dropdown when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        function handleClickOutside(event) {\n            if (menuRef.current && !menuRef.current.contains(event.target)) {\n                setIsOpen(false);\n            }\n        }\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative inline-block text-left\",\n        ref: menuRef,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>setIsOpen(!isOpen),\n                className: \"inline-flex justify-center items-center w-full rounded-md border border-gray-300 shadow-md px-3 py-2 bg-white dark:bg-[#18181C] text-sm font-medium text-gray-700 dark:text-[#D4D4D8] hover:bg-gray-100 dark:hover:bg-[#27272A] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-300 ease-in-out\",\n                \"aria-haspopup\": \"true\",\n                \"aria-expanded\": isOpen,\n                \"aria-label\": \"Account menu\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_2__.IconUserCircle, {\n                        className: \"h-6 w-6\",\n                        \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n                        lineNumber: 30,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"-mr-1 ml-2 h-5 w-5\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        viewBox: \"0 0 20 20\",\n                        fill: \"currentColor\",\n                        \"aria-hidden\": \"true\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            fillRule: \"evenodd\",\n                            d: \"M5.23 7.21a.75.75 0 011.06.02L10 11.293l3.71-4.06a.75.75 0 111.08 1.04l-4.25 4.65a.75.75 0 01-1.08 0l-4.25-4.65a.75.75 0 01.02-1.06z\",\n                            clipRule: \"evenodd\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n                            lineNumber: 38,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n                lineNumber: 23,\n                columnNumber: 7\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"origin-bottom-left absolute left-0 bottom-full mb-2 w-40 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none z-50\",\n                role: \"menu\",\n                \"aria-orientation\": \"vertical\",\n                \"aria-labelledby\": \"menu-button\",\n                tabIndex: -1,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"py-1\",\n                    role: \"none\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                            href: \"/login\",\n                            className: \"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700\",\n                            role: \"menuitem\",\n                            tabIndex: 0,\n                            id: \"menu-item-0\",\n                            children: \"Login\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n                            lineNumber: 51,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                            href: \"/register\",\n                            className: \"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700\",\n                            role: \"menuitem\",\n                            tabIndex: 0,\n                            id: \"menu-item-1\",\n                            children: \"Register\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n                            lineNumber: 60,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n                    lineNumber: 50,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n                lineNumber: 43,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/DropdownMenu.tsx\",\n        lineNumber: 22,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0Ryb3Bkb3duTWVudS50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0Q7QUFDQztBQUV0QyxTQUFTSSxlQUFlO0lBQ3JDLE1BQU0sQ0FBQ0MsUUFBUUMsVUFBVSxHQUFHTiwrQ0FBUUEsQ0FBQyxLQUFLO0lBQzFDLE1BQU1PLFVBQVVMLDZDQUFNQSxDQUFpQixJQUFJO0lBRTNDLHVDQUF1QztJQUN2Q0QsZ0RBQVNBLENBQUMsSUFBTTtRQUNkLFNBQVNPLG1CQUFtQkMsS0FBaUIsRUFBRTtZQUM3QyxJQUFJRixRQUFRRyxPQUFPLElBQUksQ0FBQ0gsUUFBUUcsT0FBTyxDQUFDQyxRQUFRLENBQUNGLE1BQU1HLE1BQU0sR0FBVztnQkFDdEVOLFVBQVUsS0FBSztZQUNqQixDQUFDO1FBQ0g7UUFDQU8sU0FBU0MsZ0JBQWdCLENBQUMsYUFBYU47UUFDdkMsT0FBTyxJQUFNO1lBQ1hLLFNBQVNFLG1CQUFtQixDQUFDLGFBQWFQO1FBQzVDO0lBQ0YsR0FBRyxFQUFFO0lBRUwscUJBQ0UsOERBQUNRO1FBQUlDLFdBQVU7UUFBa0NDLEtBQUtYOzswQkFDcEQsOERBQUNZO2dCQUNDQyxTQUFTLElBQU1kLFVBQVUsQ0FBQ0Q7Z0JBQzFCWSxXQUFVO2dCQUNWSSxpQkFBYztnQkFDZEMsaUJBQWVqQjtnQkFDZmtCLGNBQVc7O2tDQUVYLDhEQUFDcEIsK0RBQWNBO3dCQUFDYyxXQUFVO3dCQUFVTyxlQUFZOzs7Ozs7a0NBQ2hELDhEQUFDQzt3QkFDQ1IsV0FBVTt3QkFDVlMsT0FBTTt3QkFDTkMsU0FBUTt3QkFDUkMsTUFBSzt3QkFDTEosZUFBWTtrQ0FFWiw0RUFBQ0s7NEJBQUtDLFVBQVM7NEJBQVVDLEdBQUU7NEJBQXVJQyxVQUFTOzs7Ozs7Ozs7Ozs7Ozs7OztZQUk5SzNCLHdCQUNDLDhEQUFDVztnQkFDQ0MsV0FBVTtnQkFDVmdCLE1BQUs7Z0JBQ0xDLG9CQUFpQjtnQkFDakJDLG1CQUFnQjtnQkFDaEJDLFVBQVUsQ0FBQzswQkFFWCw0RUFBQ3BCO29CQUFJQyxXQUFVO29CQUFPZ0IsTUFBSzs7c0NBQ3pCLDhEQUFDSTs0QkFDQ0MsTUFBSzs0QkFDTHJCLFdBQVU7NEJBQ1ZnQixNQUFLOzRCQUNMRyxVQUFVOzRCQUNWRyxJQUFHO3NDQUNKOzs7Ozs7c0NBR0QsOERBQUNGOzRCQUNDQyxNQUFLOzRCQUNMckIsV0FBVTs0QkFDVmdCLE1BQUs7NEJBQ0xHLFVBQVU7NEJBQ1ZHLElBQUc7c0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZzZWFyY2gvLi9jb21wb25lbnRzL0Ryb3Bkb3duTWVudS50c3g/NjcyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEljb25Vc2VyQ2lyY2xlIH0gZnJvbSBcIkB0YWJsZXIvaWNvbnMtcmVhY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRHJvcGRvd25NZW51KCkge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBtZW51UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICAvLyBDbG9zZSBkcm9wZG93biB3aGVuIGNsaWNraW5nIG91dHNpZGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmdW5jdGlvbiBoYW5kbGVDbGlja091dHNpZGUoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgIGlmIChtZW51UmVmLmN1cnJlbnQgJiYgIW1lbnVSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBpbmxpbmUtYmxvY2sgdGV4dC1sZWZ0XCIgcmVmPXttZW51UmVmfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKCFpc09wZW4pfVxuICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBzaGFkb3ctbWQgcHgtMyBweS0yIGJnLXdoaXRlIGRhcms6YmctWyMxODE4MUNdIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtWyNENEQ0RDhdIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctWyMyNzI3MkFdIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLWluZGlnby01MDAgdHJhbnNpdGlvbiBkdXJhdGlvbi0zMDAgZWFzZS1pbi1vdXRcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9e2lzT3Blbn1cbiAgICAgICAgYXJpYS1sYWJlbD1cIkFjY291bnQgbWVudVwiXG4gICAgICA+XG4gICAgICAgIDxJY29uVXNlckNpcmNsZSBjbGFzc05hbWU9XCJoLTYgdy02XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgPHN2Z1xuICAgICAgICAgIGNsYXNzTmFtZT1cIi1tci0xIG1sLTIgaC01IHctNVwiXG4gICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgdmlld0JveD1cIjAgMCAyMCAyMFwiXG4gICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxwYXRoIGZpbGxSdWxlPVwiZXZlbm9kZFwiIGQ9XCJNNS4yMyA3LjIxYS43NS43NSAwIDAxMS4wNi4wMkwxMCAxMS4yOTNsMy43MS00LjA2YS43NS43NSAwIDExMS4wOCAxLjA0bC00LjI1IDQuNjVhLjc1Ljc1IDAgMDEtMS4wOCAwbC00LjI1LTQuNjVhLjc1Ljc1IDAgMDEuMDItMS4wNnpcIiBjbGlwUnVsZT1cImV2ZW5vZGRcIiAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7aXNPcGVuICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cIm9yaWdpbi1ib3R0b20tbGVmdCBhYnNvbHV0ZSBsZWZ0LTAgYm90dG9tLWZ1bGwgbWItMiB3LTQwIHJvdW5kZWQtbWQgc2hhZG93LWxnIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcmluZy0xIHJpbmctYmxhY2sgcmluZy1vcGFjaXR5LTUgZm9jdXM6b3V0bGluZS1ub25lIHotNTBcIlxuICAgICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgICAgICBhcmlhLW9yaWVudGF0aW9uPVwidmVydGljYWxcIlxuICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cIm1lbnUtYnV0dG9uXCJcbiAgICAgICAgICB0YWJJbmRleD17LTF9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTFcIiByb2xlPVwibm9uZVwiPlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgaHJlZj1cIi9sb2dpblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMjAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICByb2xlPVwibWVudWl0ZW1cIlxuICAgICAgICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgICAgICAgaWQ9XCJtZW51LWl0ZW0tMFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIExvZ2luXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8YVxuICAgICAgICAgICAgICBocmVmPVwiL3JlZ2lzdGVyXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgcHgtNCBweS0yIHRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0yMDAgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgICAgICAgIHRhYkluZGV4PXswfVxuICAgICAgICAgICAgICBpZD1cIm1lbnUtaXRlbS0xXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmVnaXN0ZXJcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkljb25Vc2VyQ2lyY2xlIiwiRHJvcGRvd25NZW51IiwiaXNPcGVuIiwic2V0SXNPcGVuIiwibWVudVJlZiIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtbGFiZWwiLCJhcmlhLWhpZGRlbiIsInN2ZyIsInhtbG5zIiwidmlld0JveCIsImZpbGwiLCJwYXRoIiwiZmlsbFJ1bGUiLCJkIiwiY2xpcFJ1bGUiLCJyb2xlIiwiYXJpYS1vcmllbnRhdGlvbiIsImFyaWEtbGFiZWxsZWRieSIsInRhYkluZGV4IiwiYSIsImhyZWYiLCJpZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/DropdownMenu.tsx\n");

/***/ }),

/***/ "./components/Search.tsx":
/*!*******************************!*\
  !*** ./components/Search.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Search\": () => (/* binding */ Search)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _SearchSkeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SearchSkeleton */ \"./components/SearchSkeleton.tsx\");\n/* harmony import */ var _utils_history__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/history */ \"./utils/history.ts\");\n/* harmony import */ var _utils_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/theme */ \"./utils/theme.ts\");\n/* harmony import */ var _tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tabler/icons-react */ \"@tabler/icons-react\");\n/* harmony import */ var _tabler_icons_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var endent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! endent */ \"endent\");\n/* harmony import */ var endent__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(endent__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nconst Search = ({ onSearch , onAnswerUpdate , onDone  })=>{\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_6__.useRef)(null);\n    // State for search\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(\"\");\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false);\n    const [currentSearchStage, setCurrentSearchStage] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(\"idle\");\n    const [searchEngine, setSearchEngine] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(\"all\");\n    const [conversationId, setConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(\"\");\n    // State for UI\n    const [theme, setThemeState] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(\"system\");\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(\"\");\n    const [searchMetadata, setSearchMetadata] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(null);\n    const [isListening, setIsListening] = (0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(false);\n    // Fetch AI-generated queries from /api/generate-queries\n    const fetchGeneratedQueries = async (originalQuery)=>{\n        try {\n            console.log(`Fetching generated queries for: ${originalQuery}`);\n            const response = await fetch(\"/api/generate-queries\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    query: originalQuery\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                console.error(\"Failed to generate queries:\", response.status, errorData.error);\n                // Return an empty array or throw an error, depending on desired handling\n                // For now, let's return a few generic fallbacks or an empty array\n                // to allow the main search to proceed if sub-query generation fails.\n                // throw new Error(`Failed to generate queries: ${errorData.error || response.statusText}`);\n                console.warn(`Failed to generate sub-queries for \"${originalQuery}\". Proceeding with original query only or generic fallbacks.`);\n                // Optionally return a few very generic queries if the API fails\n                // return [`what is ${originalQuery}`, `define ${originalQuery}`].slice(0,2);\n                return []; // Or return empty to just use the main query\n            }\n            const data = await response.json();\n            if (data.queries && Array.isArray(data.queries)) {\n                return data.queries;\n            }\n            console.warn(\"Generated queries response was not in the expected format:\", data);\n            return []; // Return empty if format is not as expected\n        } catch (error) {\n            console.error(\"Error in fetchGeneratedQueries:\", error);\n            // Return empty or throw, similar to the !response.ok case\n            return [];\n        }\n    };\n    // Handle search submission\n    const handleSearch = async ()=>{\n        if (!query) {\n            setErrorMessage(\"Please enter a query\");\n            setTimeout(()=>setErrorMessage(\"\"), 3000);\n            return;\n        }\n        setLoading(true);\n        setCurrentSearchStage(\"generating_queries\");\n        setErrorMessage(\"\");\n        if (!conversationId) {\n            setConversationId((0,_utils_history__WEBPACK_IMPORTED_MODULE_2__.generateId)());\n        }\n        try {\n            // Step 1: Generate related queries from the main query\n            setCurrentSearchStage(\"generating_queries\");\n            const generatedQueries = await fetchGeneratedQueries(query);\n            console.log(\"Generated sub-queries:\", generatedQueries);\n            setCurrentSearchStage(\"fetching_sources\");\n            let allSources = [];\n            // We'll use the metadata from the first successful fetch for now, or aggregate if needed\n            let primaryMetadata = null;\n            // Step 2: Fetch sources for the original query and each generated query\n            // Ensure 'query' (original user query) is always included\n            const queriesToFetch = [\n                query,\n                ...generatedQueries.filter((q)=>q !== query)\n            ]; // Add original query and unique generated ones\n            for (const q of queriesToFetch){\n                try {\n                    console.log(`Fetching sources for query: \"${q}\"`);\n                    const { sources , metadata  } = await fetchSources(q); // Pass the specific query 'q'\n                    if (sources.length > 0) {\n                        allSources = allSources.concat(sources);\n                        if (!primaryMetadata && metadata) {\n                            primaryMetadata = metadata;\n                        }\n                    }\n                } catch (err) {\n                    console.warn(`Failed to fetch sources for sub-query \"${q}\":`, err);\n                // Optionally, inform the user or just proceed with other sources\n                }\n            }\n            // Deduplicate sources based on URL to avoid redundant information\n            const uniqueSources = Array.from(new Map(allSources.map((s)=>[\n                    s.url,\n                    s\n                ])).values());\n            console.log(\"Total unique sources found:\", uniqueSources.length);\n            if (uniqueSources.length === 0) {\n                setLoading(false);\n                setErrorMessage(\"No relevant sources found even after query expansion. Please try a different query or search engine.\");\n                return;\n            }\n            setSearchMetadata(primaryMetadata || null); // Use the stored primary metadata\n            // Determine fallback status based on the primary metadata\n            const isFallback = primaryMetadata?.fallback === true;\n            if (isFallback) {\n                console.log(\"Using fallback source due to extraction issues (based on primary query).\");\n            }\n            setCurrentSearchStage(\"synthesizing_answer\");\n            await processAnswer(uniqueSources, isFallback); // Pass all unique sources\n        } catch (error) {\n            setCurrentSearchStage(\"idle\");\n            console.error(\"Search error in handleSearch:\", error);\n            setLoading(false);\n            const errorMessageText = error.message || \"An unexpected error occurred during search.\";\n            setErrorMessage(`Error during enhanced search: ${errorMessageText}. Please try again.`);\n        }\n    };\n    // Fetch sources from API\n    const fetchSources = async (currentQuery = query)=>{\n        const response = await fetch(\"/api/sources\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                query: currentQuery,\n                searchEngine,\n                sourceCount: 3 // MODIFIED: Request fewer sources per sub-query\n            })\n        });\n        if (!response.ok) {\n            setLoading(false);\n            throw new Error(response.statusText);\n        }\n        const data = await response.json();\n        return {\n            sources: data.sources,\n            metadata: data.metadata\n        };\n    };\n    // Process the answer from sources\n    const processAnswer = async (sources, isFallback = false)=>{\n        try {\n            // Create a detailed prompt with source information\n            let prompt;\n            if (isFallback) {\n                // Special prompt for fallback mode\n                prompt = (endent__WEBPACK_IMPORTED_MODULE_5___default())`Provide a helpful answer to the query \"${query}\" based on the following limited information.\n        Be honest about limitations in the available data. If you can't answer the query well, suggest ways the user could refine their search.\n        Do not make up information that isn't in the sources.\n\n        ${sources.map((source, idx)=>`Source [${idx + 1}]: ${source.title || \"Untitled\"}\n          URL: ${source.url}\n          Content: ${source.text}`).join(\"\\n\\n\")}\n        `;\n            } else {\n                // Standard prompt for normal mode\n                prompt = (endent__WEBPACK_IMPORTED_MODULE_5___default())`Provide a comprehensive answer to the query \"${query}\" based on the following sources.\n        Be accurate, helpful, and cite sources as [1], [2], etc. after each sentence that uses information from that source.\n\n        ${sources.map((source, idx)=>`Source [${idx + 1}]: ${source.title || \"Untitled\"}\n          URL: ${source.url}\n          Content: ${source.text}`).join(\"\\n\\n\")}\n        `;\n            }\n            // Send the request to the API\n            const response = await fetch(\"/api/answer\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    prompt,\n                    previousMessages: [] // For follow-up questions, we would include previous messages here\n                })\n            });\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n            // Parse the JSON response\n            const data = await response.json();\n            // Update the search query with timestamp and metadata\n            setLoading(false);\n            const timestamp = new Date().toISOString();\n            onSearch({\n                query,\n                sourceLinks: sources.map((source)=>source.url),\n                conversationId,\n                timestamp,\n                searchEngine\n            });\n            // Update the answer with the response content\n            if (data.content) {\n                onAnswerUpdate(data.content);\n                onDone(true);\n                setCurrentSearchStage(\"idle\");\n            } else if (data.error) {\n                throw new Error(data.error);\n            }\n        } catch (err) {\n            console.error(\"Error processing request:\", err);\n            setLoading(false);\n            setErrorMessage(err.message || \"Error processing your request. Please try again.\");\n            onAnswerUpdate(\"Error processing your request. Please try again.\");\n            setCurrentSearchStage(\"idle\");\n        }\n    };\n    // Handle keyboard input\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\") {\n            handleSearch();\n        }\n    };\n    // Save settings\n    const handleSaveSettings = ()=>{\n        // Save preferences\n        (0,_utils_history__WEBPACK_IMPORTED_MODULE_2__.saveUserPreferences)({\n            theme,\n            defaultSearchEngine: \"all\" // Always save \"all\" as the default\n        });\n        // Apply theme\n        (0,_utils_theme__WEBPACK_IMPORTED_MODULE_3__.setTheme)(theme);\n        // Close settings\n        setShowSettings(false);\n        inputRef.current?.focus();\n    };\n    // Reset settings to defaults\n    const handleResetSettings = ()=>{\n        setSearchEngine(\"all\");\n        setThemeState(\"system\");\n    };\n    // Toggle theme between light and dark\n    const toggleTheme = ()=>{\n        const newTheme = theme === \"light\" ? \"dark\" : \"light\";\n        setThemeState(newTheme);\n        (0,_utils_theme__WEBPACK_IMPORTED_MODULE_3__.setTheme)(newTheme);\n    };\n    // Handle voice input\n    const handleVoiceInput = ()=>{\n        // Check if browser supports speech recognition\n        if (!(\"webkitSpeechRecognition\" in window) && !(\"SpeechRecognition\" in window)) {\n            setErrorMessage(\"Voice input is not supported in your browser\");\n            return;\n        }\n        try {\n            // @ts-ignore - TypeScript doesn't know about webkitSpeechRecognition\n            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n            const recognition = new SpeechRecognition();\n            recognition.lang = \"en-US\";\n            recognition.interimResults = false;\n            recognition.maxAlternatives = 1;\n            setIsListening(true);\n            recognition.onresult = (event)=>{\n                const transcript = event.results[0][0].transcript;\n                setQuery(transcript);\n                setIsListening(false);\n            };\n            recognition.onerror = ()=>{\n                setIsListening(false);\n                setErrorMessage(\"Error recognizing speech\");\n            };\n            recognition.onend = ()=>{\n                setIsListening(false);\n            };\n            recognition.start();\n        } catch (error) {\n            console.error(\"Speech recognition error:\", error);\n            setIsListening(false);\n            setErrorMessage(\"Error starting voice input\");\n        }\n    };\n    // Initialize component\n    (0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{\n        // Get user preferences\n        const preferences = (0,_utils_history__WEBPACK_IMPORTED_MODULE_2__.getUserPreferences)();\n        // Set search engine to \"all\" by default\n        setSearchEngine(\"all\");\n        // Set theme from preferences\n        setThemeState(preferences.theme);\n        // Apply theme\n        (0,_utils_theme__WEBPACK_IMPORTED_MODULE_3__.applyTheme)(preferences.theme);\n        // Focus input\n        inputRef.current?.focus();\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-50 dark:bg-[#18181C] text-gray-900 dark:text-[#D4D4D8] transition-colors duration-300\",\n        children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SearchSkeleton__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n            currentStage: currentSearchStage\n        }, void 0, false, {\n            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n            lineNumber: 357,\n            columnNumber: 9\n        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mx-auto flex h-full w-full max-w-[800px] flex-col items-center space-y-6 px-4 pt-20 sm:pt-40\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconBolt, {\n                            size: 36,\n                            className: \"text-blue-500\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 362,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"ml-2 text-center text-4xl font-bold\",\n                            children: \"Vsearch\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 363,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                    lineNumber: 361,\n                    columnNumber: 11\n                }, undefined),\n                errorMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full max-w-[600px] rounded-md bg-red-100 dark:bg-red-900/30 p-3 text-red-800 dark:text-red-200\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: errorMessage\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                        lineNumber: 369,\n                        columnNumber: 15\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                    lineNumber: 368,\n                    columnNumber: 13\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconSearch, {\n                            className: \"absolute top-3 w-10 left-1 h-6 rounded-full opacity-50 sm:left-3 sm:top-4 sm:h-8 text-gray-500 dark:text-gray-400\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 375,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            ref: inputRef,\n                            className: \"h-12 w-full rounded-full border border-gray-300 dark:border-zinc-600 bg-white dark:bg-[#2A2A31] pr-24 pl-11 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 sm:h-16 sm:py-2 sm:pr-32 sm:pl-16 sm:text-lg shadow-sm\",\n                            type: \"text\",\n                            placeholder: \"Ask anything...\",\n                            value: query,\n                            onChange: (e)=>setQuery(e.target.value),\n                            onKeyDown: handleKeyDown,\n                            disabled: isListening\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 377,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleVoiceInput,\n                            disabled: isListening,\n                            className: `absolute right-16 top-2 h-8 w-8 rounded-full p-1.5 sm:right-20 sm:top-4 sm:h-8 sm:w-8\n                ${isListening ? \"bg-red-500 animate-pulse\" : \"bg-gray-200 dark:bg-zinc-700 hover:bg-gray-300 dark:hover:bg-zinc-600\"}`,\n                            title: \"Voice search\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconMicrophone, {\n                                className: \"text-gray-700 dark:text-gray-200\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                lineNumber: 398,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 389,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleSearch,\n                            className: \"absolute right-2 top-2 h-8 w-8 rounded-full bg-blue-500 p-1.5 hover:cursor-pointer hover:bg-blue-600 sm:right-3 sm:top-4 sm:h-8 sm:w-8\",\n                            title: \"Search\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconArrowRight, {\n                                className: \"text-white\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                lineNumber: 407,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 402,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                    lineNumber: 374,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex space-x-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"flex cursor-pointer items-center space-x-2 rounded-full border border-gray-300 dark:border-zinc-600 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-zinc-700 transition-colors\",\n                            onClick: ()=>setShowSettings(!showSettings),\n                            title: \"Settings\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconSettings, {\n                                    size: 16\n                                }, void 0, false, {\n                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                    lineNumber: 418,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: [\n                                        showSettings ? \"Hide\" : \"Show\",\n                                        \" Settings\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                    lineNumber: 419,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 413,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"flex cursor-pointer items-center space-x-2 rounded-full border border-gray-300 dark:border-zinc-600 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-zinc-700 transition-colors\",\n                            onClick: toggleTheme,\n                            title: \"Toggle theme\",\n                            children: theme === \"dark\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconSun, {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                        lineNumber: 429,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Light Mode\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                        lineNumber: 430,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tabler_icons_react__WEBPACK_IMPORTED_MODULE_4__.IconMoon, {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                        lineNumber: 434,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: \"Dark Mode\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                        lineNumber: 435,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true)\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 422,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                    lineNumber: 412,\n                    columnNumber: 11\n                }, undefined),\n                showSettings && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full max-w-[600px] space-y-4 rounded-lg border border-gray-300 dark:border-zinc-600 bg-white dark:bg-[#2A2A31] p-6 shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-medium border-b border-gray-200 dark:border-zinc-700 pb-2\",\n                            children: \"Settings\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 444,\n                            columnNumber: 15\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4 pt-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"block text-sm font-medium mb-1\",\n                                            children: \"Theme\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                            lineNumber: 449,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex space-x-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"inline-flex items-center\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"radio\",\n                                                            className: \"form-radio text-blue-500\",\n                                                            checked: theme === \"light\",\n                                                            onChange: ()=>setThemeState(\"light\")\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                            lineNumber: 452,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"ml-2\",\n                                                            children: \"Light\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                            lineNumber: 458,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                    lineNumber: 451,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"inline-flex items-center\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"radio\",\n                                                            className: \"form-radio text-blue-500\",\n                                                            checked: theme === \"dark\",\n                                                            onChange: ()=>setThemeState(\"dark\")\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                            lineNumber: 461,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"ml-2\",\n                                                            children: \"Dark\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                            lineNumber: 467,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                    lineNumber: 460,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"inline-flex items-center\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"radio\",\n                                                            className: \"form-radio text-blue-500\",\n                                                            checked: theme === \"system\",\n                                                            onChange: ()=>setThemeState(\"system\")\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                            lineNumber: 470,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"ml-2\",\n                                                            children: \"System\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                            lineNumber: 476,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                                    lineNumber: 469,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                            lineNumber: 450,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                    lineNumber: 448,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex space-x-2 pt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"flex cursor-pointer items-center space-x-2 rounded-md border border-gray-300 dark:border-zinc-600 bg-blue-500 px-4 py-2 text-sm text-white hover:bg-blue-600\",\n                                            onClick: handleSaveSettings,\n                                            children: \"Save Settings\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                            lineNumber: 482,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"flex cursor-pointer items-center space-x-2 rounded-md border border-gray-300 dark:border-zinc-600 bg-gray-200 dark:bg-zinc-700 px-4 py-2 text-sm hover:bg-gray-300 dark:hover:bg-zinc-600\",\n                                            onClick: handleResetSettings,\n                                            children: \"Reset to Defaults\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                            lineNumber: 489,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                                    lineNumber: 481,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 15\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                    lineNumber: 443,\n                    columnNumber: 13\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8 text-center text-sm text-gray-500 dark:text-gray-400\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: 'Try searching for: \"How does quantum computing work?\" or \"Latest developments in AI\"'\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 502,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-2\",\n                            children: \"Powered by Cerebras llama-4-scout-17b-16e-instruct\"\n                        }, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                            lineNumber: 503,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n                    lineNumber: 501,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n            lineNumber: 359,\n            columnNumber: 9\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/Search.tsx\",\n        lineNumber: 355,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1NlYXJjaC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUUrRDtBQUN1QjtBQUNqQztBQVN4QjtBQUNEO0FBQzJDO0FBUWhFLE1BQU1pQixTQUEwQixDQUFDLEVBQUVDLFNBQVEsRUFBRUMsZUFBYyxFQUFFQyxPQUFNLEVBQUUsR0FBSztJQUMvRSxNQUFNQyxXQUFXTiw2Q0FBTUEsQ0FBbUIsSUFBSTtJQUU5QyxtQkFBbUI7SUFDbkIsTUFBTSxDQUFDTyxPQUFPQyxTQUFTLEdBQUdQLCtDQUFRQSxDQUFTO0lBQzNDLE1BQU0sQ0FBQ1EsY0FBY0MsZ0JBQWdCLEdBQUdULCtDQUFRQSxDQUFVLEtBQUs7SUFDL0QsTUFBTSxDQUFDVSxTQUFTQyxXQUFXLEdBQUdYLCtDQUFRQSxDQUFVLEtBQUs7SUFDckQsTUFBTSxDQUFDWSxvQkFBb0JDLHNCQUFzQixHQUFHYiwrQ0FBUUEsQ0FBYztJQUMxRSxNQUFNLENBQUNjLGNBQWNDLGdCQUFnQixHQUFHZiwrQ0FBUUEsQ0FBZTtJQUMvRCxNQUFNLENBQUNnQixnQkFBZ0JDLGtCQUFrQixHQUFHakIsK0NBQVFBLENBQVM7SUFFN0QsZUFBZTtJQUNmLE1BQU0sQ0FBQ2tCLE9BQU9DLGNBQWMsR0FBR25CLCtDQUFRQSxDQUFRO0lBQy9DLE1BQU0sQ0FBQ29CLGNBQWNDLGdCQUFnQixHQUFHckIsK0NBQVFBLENBQVM7SUFDekQsTUFBTSxDQUFDc0IsZ0JBQWdCQyxrQkFBa0IsR0FBR3ZCLCtDQUFRQSxDQUF3QixJQUFJO0lBQ2hGLE1BQU0sQ0FBQ3dCLGFBQWFDLGVBQWUsR0FBR3pCLCtDQUFRQSxDQUFVLEtBQUs7SUFFN0Qsd0RBQXdEO0lBQ3hELE1BQU0wQix3QkFBd0IsT0FBT0MsZ0JBQTZDO1FBQ2hGLElBQUk7WUFDRkMsUUFBUUMsR0FBRyxDQUFDLENBQUMsZ0NBQWdDLEVBQUVGLGNBQWMsQ0FBQztZQUM5RCxNQUFNRyxXQUFXLE1BQU1DLE1BQU0seUJBQXlCO2dCQUNwREMsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUFFOUIsT0FBT3FCO2dCQUFjO1lBQzlDO1lBRUEsSUFBSSxDQUFDRyxTQUFTTyxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU1DLFlBQVksTUFBTVIsU0FBU1MsSUFBSTtnQkFDckNYLFFBQVFZLEtBQUssQ0FBQywrQkFBK0JWLFNBQVNXLE1BQU0sRUFBRUgsVUFBVUUsS0FBSztnQkFDN0UseUVBQXlFO2dCQUN6RSxrRUFBa0U7Z0JBQ2xFLHFFQUFxRTtnQkFDckUsNEZBQTRGO2dCQUM1RlosUUFBUWMsSUFBSSxDQUFDLENBQUMsb0NBQW9DLEVBQUVmLGNBQWMsNERBQTRELENBQUM7Z0JBQy9ILGdFQUFnRTtnQkFDaEUsNkVBQTZFO2dCQUM3RSxPQUFPLEVBQUUsRUFBRSw2Q0FBNkM7WUFDMUQsQ0FBQztZQUVELE1BQU1nQixPQUFPLE1BQU1iLFNBQVNTLElBQUk7WUFDaEMsSUFBSUksS0FBS0MsT0FBTyxJQUFJQyxNQUFNQyxPQUFPLENBQUNILEtBQUtDLE9BQU8sR0FBRztnQkFDL0MsT0FBT0QsS0FBS0MsT0FBTztZQUNyQixDQUFDO1lBQ0RoQixRQUFRYyxJQUFJLENBQUMsOERBQThEQztZQUMzRSxPQUFPLEVBQUUsRUFBRSw0Q0FBNEM7UUFDekQsRUFBRSxPQUFPSCxPQUFPO1lBQ2RaLFFBQVFZLEtBQUssQ0FBQyxtQ0FBbUNBO1lBQ2pELDBEQUEwRDtZQUMxRCxPQUFPLEVBQUU7UUFDWDtJQUNGO0lBRUEsMkJBQTJCO0lBQzNCLE1BQU1PLGVBQWUsVUFBWTtRQUMvQixJQUFJLENBQUN6QyxPQUFPO1lBQ1ZlLGdCQUFnQjtZQUNoQjJCLFdBQVcsSUFBTTNCLGdCQUFnQixLQUFLO1lBQ3RDO1FBQ0YsQ0FBQztRQUVEVixXQUFXLElBQUk7UUFDZkUsc0JBQXNCO1FBQ3RCUSxnQkFBZ0I7UUFFaEIsSUFBSSxDQUFDTCxnQkFBZ0I7WUFDbkJDLGtCQUFrQmhDLDBEQUFVQTtRQUM5QixDQUFDO1FBRUQsSUFBSTtZQUNGLHVEQUF1RDtZQUN2RDRCLHNCQUFzQjtZQUN0QixNQUFNb0MsbUJBQW1CLE1BQU12QixzQkFBc0JwQjtZQUNyRHNCLFFBQVFDLEdBQUcsQ0FBQywwQkFBMEJvQjtZQUV0Q3BDLHNCQUFzQjtZQUN0QixJQUFJcUMsYUFBdUIsRUFBRTtZQUM3Qix5RkFBeUY7WUFDekYsSUFBSUMsa0JBQXlDLElBQUk7WUFFakQsd0VBQXdFO1lBQ3hFLDBEQUEwRDtZQUMxRCxNQUFNQyxpQkFBaUI7Z0JBQUM5QzttQkFBVTJDLGlCQUFpQkksTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxNQUFNaEQ7YUFBTyxFQUFFLCtDQUErQztZQUU3SCxLQUFLLE1BQU1nRCxLQUFLRixlQUFnQjtnQkFDOUIsSUFBSTtvQkFDRnhCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDZCQUE2QixFQUFFeUIsRUFBRSxDQUFDLENBQUM7b0JBQ2hELE1BQU0sRUFBRUMsUUFBTyxFQUFFQyxTQUFRLEVBQUUsR0FBRyxNQUFNQyxhQUFhSCxJQUFJLDhCQUE4QjtvQkFDbkYsSUFBSUMsUUFBUUcsTUFBTSxHQUFHLEdBQUc7d0JBQ3RCUixhQUFhQSxXQUFXUyxNQUFNLENBQUNKO3dCQUMvQixJQUFJLENBQUNKLG1CQUFtQkssVUFBVTs0QkFDaENMLGtCQUFrQks7d0JBQ3BCLENBQUM7b0JBQ0gsQ0FBQztnQkFDSCxFQUFFLE9BQU9JLEtBQUs7b0JBQ1poQyxRQUFRYyxJQUFJLENBQUMsQ0FBQyx1Q0FBdUMsRUFBRVksRUFBRSxFQUFFLENBQUMsRUFBRU07Z0JBQzlELGlFQUFpRTtnQkFDbkU7WUFDRjtZQUVBLGtFQUFrRTtZQUNsRSxNQUFNQyxnQkFBZ0JoQixNQUFNaUIsSUFBSSxDQUFDLElBQUlDLElBQUliLFdBQVdjLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBSztvQkFBQ0EsRUFBRUMsR0FBRztvQkFBRUQ7aUJBQUUsR0FBR0UsTUFBTTtZQUNoRnZDLFFBQVFDLEdBQUcsQ0FBQywrQkFBK0JnQyxjQUFjSCxNQUFNO1lBRS9ELElBQUlHLGNBQWNILE1BQU0sS0FBSyxHQUFHO2dCQUM5Qi9DLFdBQVcsS0FBSztnQkFDaEJVLGdCQUFnQjtnQkFDaEI7WUFDRixDQUFDO1lBRURFLGtCQUFrQjRCLG1CQUFtQixJQUFJLEdBQUcsa0NBQWtDO1lBRTlFLDBEQUEwRDtZQUMxRCxNQUFNaUIsYUFBYWpCLGlCQUFpQmtCLGFBQWEsSUFBSTtZQUNyRCxJQUFJRCxZQUFZO2dCQUNkeEMsUUFBUUMsR0FBRyxDQUFDO1lBQ2QsQ0FBQztZQUVEaEIsc0JBQXNCO1lBQ3RCLE1BQU15RCxjQUFjVCxlQUFlTyxhQUFhLDBCQUEwQjtRQUM1RSxFQUFFLE9BQU81QixPQUFZO1lBQ25CM0Isc0JBQXNCO1lBQ3RCZSxRQUFRWSxLQUFLLENBQUMsaUNBQWlDQTtZQUMvQzdCLFdBQVcsS0FBSztZQUNoQixNQUFNNEQsbUJBQW1CL0IsTUFBTWdDLE9BQU8sSUFBSTtZQUMxQ25ELGdCQUFnQixDQUFDLDhCQUE4QixFQUFFa0QsaUJBQWlCLG1CQUFtQixDQUFDO1FBQ3hGO0lBQ0Y7SUFFQSx5QkFBeUI7SUFDekIsTUFBTWQsZUFBZSxPQUFPZ0IsZUFBdUJuRSxLQUFLLEdBQUs7UUFDM0QsTUFBTXdCLFdBQVcsTUFBTUMsTUFBTSxnQkFBZ0I7WUFDM0NDLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7WUFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQjlCLE9BQU9tRTtnQkFDUDNEO2dCQUNBNEQsYUFBYSxFQUFFLGdEQUFnRDtZQUNqRTtRQUNGO1FBRUEsSUFBSSxDQUFDNUMsU0FBU08sRUFBRSxFQUFFO1lBQ2hCMUIsV0FBVyxLQUFLO1lBQ2hCLE1BQU0sSUFBSWdFLE1BQU03QyxTQUFTOEMsVUFBVSxFQUFFO1FBQ3ZDLENBQUM7UUFFRCxNQUFNakMsT0FBTyxNQUFNYixTQUFTUyxJQUFJO1FBQ2hDLE9BQU87WUFDTGdCLFNBQVNaLEtBQUtZLE9BQU87WUFDckJDLFVBQVViLEtBQUthLFFBQVE7UUFDekI7SUFDRjtJQUVBLGtDQUFrQztJQUNsQyxNQUFNYyxnQkFBZ0IsT0FBT2YsU0FBbUJhLGFBQXNCLEtBQUssR0FBSztRQUM5RSxJQUFJO1lBQ0YsbURBQW1EO1lBQ25ELElBQUlTO1lBRUosSUFBSVQsWUFBWTtnQkFDZCxtQ0FBbUM7Z0JBQ25DUyxTQUFTaEYsK0NBQU0sQ0FBQyx1Q0FBdUMsRUFBRVMsTUFBTTs7OztRQUkvRCxFQUFFaUQsUUFBUVMsR0FBRyxDQUFDLENBQUNjLFFBQVFDLE1BQ3JCLENBQUMsUUFBUSxFQUFFQSxNQUFNLEVBQUUsR0FBRyxFQUFFRCxPQUFPRSxLQUFLLElBQUksV0FBVztlQUM5QyxFQUFFRixPQUFPWixHQUFHLENBQUM7bUJBQ1QsRUFBRVksT0FBT0csSUFBSSxDQUFDLENBQUMsRUFDeEJDLElBQUksQ0FBQyxRQUFRO1FBQ2YsQ0FBQztZQUNILE9BQU87Z0JBQ0wsa0NBQWtDO2dCQUNsQ0wsU0FBU2hGLCtDQUFNLENBQUMsNkNBQTZDLEVBQUVTLE1BQU07OztRQUdyRSxFQUFFaUQsUUFBUVMsR0FBRyxDQUFDLENBQUNjLFFBQVFDLE1BQ3JCLENBQUMsUUFBUSxFQUFFQSxNQUFNLEVBQUUsR0FBRyxFQUFFRCxPQUFPRSxLQUFLLElBQUksV0FBVztlQUM5QyxFQUFFRixPQUFPWixHQUFHLENBQUM7bUJBQ1QsRUFBRVksT0FBT0csSUFBSSxDQUFDLENBQUMsRUFDeEJDLElBQUksQ0FBQyxRQUFRO1FBQ2YsQ0FBQztZQUNILENBQUM7WUFFRCw4QkFBOEI7WUFDOUIsTUFBTXBELFdBQVcsTUFBTUMsTUFBTSxlQUFlO2dCQUMxQ0MsUUFBUTtnQkFDUkMsU0FBUztvQkFDUCxnQkFBZ0I7Z0JBQ2xCO2dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7b0JBQ25CeUM7b0JBQ0FNLGtCQUFrQixFQUFFLENBQUMsbUVBQW1FO2dCQUMxRjtZQUNGO1lBRUEsSUFBSSxDQUFDckQsU0FBU08sRUFBRSxFQUFFO2dCQUNoQixNQUFNLElBQUlzQyxNQUFNN0MsU0FBUzhDLFVBQVUsRUFBRTtZQUN2QyxDQUFDO1lBRUQsMEJBQTBCO1lBQzFCLE1BQU1qQyxPQUFPLE1BQU1iLFNBQVNTLElBQUk7WUFFaEMsc0RBQXNEO1lBQ3RENUIsV0FBVyxLQUFLO1lBQ2hCLE1BQU15RSxZQUFZLElBQUlDLE9BQU9DLFdBQVc7WUFFeENwRixTQUFTO2dCQUNQSTtnQkFDQWlGLGFBQWFoQyxRQUFRUyxHQUFHLENBQUMsQ0FBQ2MsU0FBV0EsT0FBT1osR0FBRztnQkFDL0NsRDtnQkFDQW9FO2dCQUNBdEU7WUFDRjtZQUVBLDhDQUE4QztZQUM5QyxJQUFJNkIsS0FBSzZDLE9BQU8sRUFBRTtnQkFDaEJyRixlQUFld0MsS0FBSzZDLE9BQU87Z0JBQzNCcEYsT0FBTyxJQUFJO2dCQUNYUyxzQkFBc0I7WUFDeEIsT0FBTyxJQUFJOEIsS0FBS0gsS0FBSyxFQUFFO2dCQUNyQixNQUFNLElBQUltQyxNQUFNaEMsS0FBS0gsS0FBSyxFQUFFO1lBQzlCLENBQUM7UUFDSCxFQUFFLE9BQU9vQixLQUFVO1lBQ2pCaEMsUUFBUVksS0FBSyxDQUFDLDZCQUE2Qm9CO1lBQzNDakQsV0FBVyxLQUFLO1lBQ2hCVSxnQkFBZ0J1QyxJQUFJWSxPQUFPLElBQUk7WUFDL0JyRSxlQUFlO1lBQ2ZVLHNCQUFzQjtRQUN4QjtJQUNGO0lBRUEsd0JBQXdCO0lBQ3hCLE1BQU00RSxnQkFBZ0IsQ0FBQ0MsSUFBdUM7UUFDNUQsSUFBSUEsRUFBRUMsR0FBRyxLQUFLLFNBQVM7WUFDckI1QztRQUNGLENBQUM7SUFDSDtJQUVBLGdCQUFnQjtJQUNoQixNQUFNNkMscUJBQXFCLElBQU07UUFDL0IsbUJBQW1CO1FBQ25CekcsbUVBQW1CQSxDQUFDO1lBQ2xCK0I7WUFDQTJFLHFCQUFxQixNQUFNLG1DQUFtQztRQUNoRTtRQUVBLGNBQWM7UUFDZHhHLHNEQUFRQSxDQUFDNkI7UUFFVCxpQkFBaUI7UUFDakJULGdCQUFnQixLQUFLO1FBQ3JCSixTQUFTeUYsT0FBTyxFQUFFQztJQUNwQjtJQUVBLDZCQUE2QjtJQUM3QixNQUFNQyxzQkFBc0IsSUFBTTtRQUNoQ2pGLGdCQUFnQjtRQUNoQkksY0FBYztJQUNoQjtJQUVBLHNDQUFzQztJQUN0QyxNQUFNOEUsY0FBYyxJQUFNO1FBQ3hCLE1BQU1DLFdBQVdoRixVQUFVLFVBQVUsU0FBUyxPQUFPO1FBQ3JEQyxjQUFjK0U7UUFDZDdHLHNEQUFRQSxDQUFDNkc7SUFDWDtJQUVBLHFCQUFxQjtJQUNyQixNQUFNQyxtQkFBbUIsSUFBTTtRQUM3QiwrQ0FBK0M7UUFDL0MsSUFBSSxDQUFFLDhCQUE2QkMsTUFBSyxLQUFNLENBQUUsd0JBQXVCQSxNQUFLLEdBQUk7WUFDOUUvRSxnQkFBZ0I7WUFDaEI7UUFDRixDQUFDO1FBRUQsSUFBSTtZQUNGLHFFQUFxRTtZQUNyRSxNQUFNZ0Ysb0JBQW9CRCxPQUFPQyxpQkFBaUIsSUFBSUQsT0FBT0UsdUJBQXVCO1lBQ3BGLE1BQU1DLGNBQWMsSUFBSUY7WUFFeEJFLFlBQVlDLElBQUksR0FBRztZQUNuQkQsWUFBWUUsY0FBYyxHQUFHLEtBQUs7WUFDbENGLFlBQVlHLGVBQWUsR0FBRztZQUU5QmpGLGVBQWUsSUFBSTtZQUVuQjhFLFlBQVlJLFFBQVEsR0FBRyxDQUFDQyxRQUFlO2dCQUNyQyxNQUFNQyxhQUFhRCxNQUFNRSxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQ0QsVUFBVTtnQkFDakR0RyxTQUFTc0c7Z0JBQ1RwRixlQUFlLEtBQUs7WUFDdEI7WUFFQThFLFlBQVlRLE9BQU8sR0FBRyxJQUFNO2dCQUMxQnRGLGVBQWUsS0FBSztnQkFDcEJKLGdCQUFnQjtZQUNsQjtZQUVBa0YsWUFBWVMsS0FBSyxHQUFHLElBQU07Z0JBQ3hCdkYsZUFBZSxLQUFLO1lBQ3RCO1lBRUE4RSxZQUFZVSxLQUFLO1FBQ25CLEVBQUUsT0FBT3pFLE9BQU87WUFDZFosUUFBUVksS0FBSyxDQUFDLDZCQUE2QkE7WUFDM0NmLGVBQWUsS0FBSztZQUNwQkosZ0JBQWdCO1FBQ2xCO0lBQ0Y7SUFFQSx1QkFBdUI7SUFDdkJ2QixnREFBU0EsQ0FBQyxJQUFNO1FBQ2QsdUJBQXVCO1FBQ3ZCLE1BQU1vSCxjQUFjaEksa0VBQWtCQTtRQUV0Qyx3Q0FBd0M7UUFDeEM2QixnQkFBZ0I7UUFFaEIsNkJBQTZCO1FBQzdCSSxjQUFjK0YsWUFBWWhHLEtBQUs7UUFFL0IsY0FBYztRQUNkOUIsd0RBQVVBLENBQUM4SCxZQUFZaEcsS0FBSztRQUU1QixjQUFjO1FBQ2RiLFNBQVN5RixPQUFPLEVBQUVDO0lBQ3BCLEdBQUcsRUFBRTtJQUVMLHFCQUNFLDhEQUFDb0I7UUFBSUMsV0FBVTtrQkFDWjFHLHdCQUNDLDhEQUFDMUIsdURBQWNBO1lBQUNxSSxjQUFjekc7Ozs7O3NDQUU5Qiw4REFBQ3VHO1lBQUlDLFdBQVU7OzhCQUViLDhEQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUM3SCx5REFBUUE7NEJBQUMrSCxNQUFNOzRCQUFJRixXQUFVOzs7Ozs7c0NBQzlCLDhEQUFDRDs0QkFBSUMsV0FBVTtzQ0FBc0M7Ozs7Ozs7Ozs7OztnQkFJdERoRyw4QkFDQyw4REFBQytGO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDRztrQ0FBR25HOzs7Ozs7Ozs7Ozs4QkFLUiw4REFBQytGO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQzFILDJEQUFVQTs0QkFBQzBILFdBQVU7Ozs7OztzQ0FFdEIsOERBQUNJOzRCQUNDQyxLQUFLcEg7NEJBQ0wrRyxXQUFVOzRCQUNWTSxNQUFLOzRCQUNMQyxhQUFZOzRCQUNaQyxPQUFPdEg7NEJBQ1B1SCxVQUFVLENBQUNuQyxJQUFNbkYsU0FBU21GLEVBQUVvQyxNQUFNLENBQUNGLEtBQUs7NEJBQ3hDRyxXQUFXdEM7NEJBQ1h1QyxVQUFVeEc7Ozs7OztzQ0FJWiw4REFBQ3lHOzRCQUNDQyxTQUFTL0I7NEJBQ1Q2QixVQUFVeEc7NEJBQ1Y0RixXQUFXLENBQUM7Z0JBQ1YsRUFBRTVGLGNBQ0UsNkJBQ0EsdUVBQXVFLENBQUMsQ0FBQzs0QkFDL0V3RCxPQUFNO3NDQUVOLDRFQUFDeEYsK0RBQWNBO2dDQUFDNEgsV0FBVTs7Ozs7Ozs7Ozs7c0NBSTVCLDhEQUFDYTs0QkFDQ0MsU0FBU25GOzRCQUNUcUUsV0FBVTs0QkFDVnBDLE9BQU07c0NBRU4sNEVBQUMxRiwrREFBY0E7Z0NBQUM4SCxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFLOUIsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ2E7NEJBQ0NiLFdBQVU7NEJBQ1ZjLFNBQVMsSUFBTXpILGdCQUFnQixDQUFDRDs0QkFDaEN3RSxPQUFNOzs4Q0FFTiw4REFBQ3JGLDZEQUFZQTtvQ0FBQzJILE1BQU07Ozs7Ozs4Q0FDcEIsOERBQUNhOzt3Q0FBTTNILGVBQWUsU0FBUyxNQUFNO3dDQUFDOzs7Ozs7Ozs7Ozs7O3NDQUd4Qyw4REFBQ3lIOzRCQUNDYixXQUFVOzRCQUNWYyxTQUFTakM7NEJBQ1RqQixPQUFNO3NDQUVMOUQsVUFBVSx1QkFDVDs7a0RBQ0UsOERBQUN0Qix3REFBT0E7d0NBQUMwSCxNQUFNOzs7Ozs7a0RBQ2YsOERBQUNhO2tEQUFLOzs7Ozs7OzZEQUdSOztrREFDRSw4REFBQzFJLHlEQUFRQTt3Q0FBQzZILE1BQU07Ozs7OztrREFDaEIsOERBQUNhO2tEQUFLOzs7Ozs7OzRDQUVUOzs7Ozs7Ozs7Ozs7Z0JBS0ozSCw4QkFDQyw4REFBQzJHO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ2dCOzRCQUFHaEIsV0FBVTtzQ0FBeUU7Ozs7OztzQ0FFdkYsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FFYiw4REFBQ0Q7O3NEQUNDLDhEQUFDa0I7NENBQU1qQixXQUFVO3NEQUFpQzs7Ozs7O3NEQUNsRCw4REFBQ0Q7NENBQUlDLFdBQVU7OzhEQUNiLDhEQUFDaUI7b0RBQU1qQixXQUFVOztzRUFDZiw4REFBQ0k7NERBQ0NFLE1BQUs7NERBQ0xOLFdBQVU7NERBQ1ZrQixTQUFTcEgsVUFBVTs0REFDbkIyRyxVQUFVLElBQU0xRyxjQUFjOzs7Ozs7c0VBRWhDLDhEQUFDZ0g7NERBQUtmLFdBQVU7c0VBQU87Ozs7Ozs7Ozs7Ozs4REFFekIsOERBQUNpQjtvREFBTWpCLFdBQVU7O3NFQUNmLDhEQUFDSTs0REFDQ0UsTUFBSzs0REFDTE4sV0FBVTs0REFDVmtCLFNBQVNwSCxVQUFVOzREQUNuQjJHLFVBQVUsSUFBTTFHLGNBQWM7Ozs7OztzRUFFaEMsOERBQUNnSDs0REFBS2YsV0FBVTtzRUFBTzs7Ozs7Ozs7Ozs7OzhEQUV6Qiw4REFBQ2lCO29EQUFNakIsV0FBVTs7c0VBQ2YsOERBQUNJOzREQUNDRSxNQUFLOzREQUNMTixXQUFVOzREQUNWa0IsU0FBU3BILFVBQVU7NERBQ25CMkcsVUFBVSxJQUFNMUcsY0FBYzs7Ozs7O3NFQUVoQyw4REFBQ2dIOzREQUFLZixXQUFVO3NFQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBSzdCLDhEQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNhOzRDQUNDYixXQUFVOzRDQUNWYyxTQUFTdEM7c0RBQ1Y7Ozs7OztzREFJRCw4REFBQ3FDOzRDQUNDYixXQUFVOzRDQUNWYyxTQUFTbEM7c0RBQ1Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFTVCw4REFBQ21CO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0c7c0NBQUU7Ozs7OztzQ0FDSCw4REFBQ0E7NEJBQUVILFdBQVU7c0NBQU87Ozs7Ozs7Ozs7Ozs7Ozs7O3FCQUd6Qjs7Ozs7O0FBR1AsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZzZWFyY2gvLi9jb21wb25lbnRzL1NlYXJjaC50c3g/Yjk2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZWFyY2hFbmdpbmUgfSBmcm9tIFwiQC9wYWdlcy9hcGkvc291cmNlc1wiO1xuaW1wb3J0IHsgU2VhcmNoTWV0YWRhdGEsIFNlYXJjaFF1ZXJ5LCBTb3VyY2UsIFRoZW1lIH0gZnJvbSBcIkAvdHlwZXNcIjtcbmltcG9ydCBTZWFyY2hTa2VsZXRvbiwgeyBTZWFyY2hTdGFnZSB9IGZyb20gXCIuL1NlYXJjaFNrZWxldG9uXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUlkLCBnZXRVc2VyUHJlZmVyZW5jZXMsIHNhdmVVc2VyUHJlZmVyZW5jZXMgfSBmcm9tIFwiQC91dGlscy9oaXN0b3J5XCI7XG5pbXBvcnQgeyBhcHBseVRoZW1lLCBzZXRUaGVtZSB9IGZyb20gXCJAL3V0aWxzL3RoZW1lXCI7XG5pbXBvcnQge1xuICBJY29uQXJyb3dSaWdodCxcbiAgSWNvbkJvbHQsXG4gIEljb25NaWNyb3Bob25lLFxuICBJY29uTW9vbixcbiAgSWNvblNlYXJjaCxcbiAgSWNvblNldHRpbmdzLFxuICBJY29uU3VuXG59IGZyb20gXCJAdGFibGVyL2ljb25zLXJlYWN0XCI7XG5pbXBvcnQgZW5kZW50IGZyb20gXCJlbmRlbnRcIjtcbmltcG9ydCB7IEZDLCBLZXlib2FyZEV2ZW50LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuaW50ZXJmYWNlIFNlYXJjaFByb3BzIHtcbiAgb25TZWFyY2g6IChzZWFyY2hSZXN1bHQ6IFNlYXJjaFF1ZXJ5KSA9PiB2b2lkO1xuICBvbkFuc3dlclVwZGF0ZTogKGFuc3dlcjogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkRvbmU6IChkb25lOiBib29sZWFuKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgU2VhcmNoOiBGQzxTZWFyY2hQcm9wcz4gPSAoeyBvblNlYXJjaCwgb25BbnN3ZXJVcGRhdGUsIG9uRG9uZSB9KSA9PiB7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuXG4gIC8vIFN0YXRlIGZvciBzZWFyY2hcbiAgY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2hvd1NldHRpbmdzLCBzZXRTaG93U2V0dGluZ3NdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50U2VhcmNoU3RhZ2UsIHNldEN1cnJlbnRTZWFyY2hTdGFnZV0gPSB1c2VTdGF0ZTxTZWFyY2hTdGFnZT4oJ2lkbGUnKTtcbiAgY29uc3QgW3NlYXJjaEVuZ2luZSwgc2V0U2VhcmNoRW5naW5lXSA9IHVzZVN0YXRlPFNlYXJjaEVuZ2luZT4oXCJhbGxcIik7XG4gIGNvbnN0IFtjb252ZXJzYXRpb25JZCwgc2V0Q29udmVyc2F0aW9uSWRdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcblxuICAvLyBTdGF0ZSBmb3IgVUlcbiAgY29uc3QgW3RoZW1lLCBzZXRUaGVtZVN0YXRlXSA9IHVzZVN0YXRlPFRoZW1lPihcInN5c3RlbVwiKTtcbiAgY29uc3QgW2Vycm9yTWVzc2FnZSwgc2V0RXJyb3JNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtzZWFyY2hNZXRhZGF0YSwgc2V0U2VhcmNoTWV0YWRhdGFdID0gdXNlU3RhdGU8U2VhcmNoTWV0YWRhdGEgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTGlzdGVuaW5nLCBzZXRJc0xpc3RlbmluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgLy8gRmV0Y2ggQUktZ2VuZXJhdGVkIHF1ZXJpZXMgZnJvbSAvYXBpL2dlbmVyYXRlLXF1ZXJpZXNcbiAgY29uc3QgZmV0Y2hHZW5lcmF0ZWRRdWVyaWVzID0gYXN5bmMgKG9yaWdpbmFsUXVlcnk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYEZldGNoaW5nIGdlbmVyYXRlZCBxdWVyaWVzIGZvcjogJHtvcmlnaW5hbFF1ZXJ5fWApO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvZ2VuZXJhdGUtcXVlcmllc1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBxdWVyeTogb3JpZ2luYWxRdWVyeSB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHF1ZXJpZXM6XCIsIHJlc3BvbnNlLnN0YXR1cywgZXJyb3JEYXRhLmVycm9yKTtcbiAgICAgICAgLy8gUmV0dXJuIGFuIGVtcHR5IGFycmF5IG9yIHRocm93IGFuIGVycm9yLCBkZXBlbmRpbmcgb24gZGVzaXJlZCBoYW5kbGluZ1xuICAgICAgICAvLyBGb3Igbm93LCBsZXQncyByZXR1cm4gYSBmZXcgZ2VuZXJpYyBmYWxsYmFja3Mgb3IgYW4gZW1wdHkgYXJyYXlcbiAgICAgICAgLy8gdG8gYWxsb3cgdGhlIG1haW4gc2VhcmNoIHRvIHByb2NlZWQgaWYgc3ViLXF1ZXJ5IGdlbmVyYXRpb24gZmFpbHMuXG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlIHF1ZXJpZXM6ICR7ZXJyb3JEYXRhLmVycm9yIHx8IHJlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGdlbmVyYXRlIHN1Yi1xdWVyaWVzIGZvciBcIiR7b3JpZ2luYWxRdWVyeX1cIi4gUHJvY2VlZGluZyB3aXRoIG9yaWdpbmFsIHF1ZXJ5IG9ubHkgb3IgZ2VuZXJpYyBmYWxsYmFja3MuYCk7XG4gICAgICAgIC8vIE9wdGlvbmFsbHkgcmV0dXJuIGEgZmV3IHZlcnkgZ2VuZXJpYyBxdWVyaWVzIGlmIHRoZSBBUEkgZmFpbHNcbiAgICAgICAgLy8gcmV0dXJuIFtgd2hhdCBpcyAke29yaWdpbmFsUXVlcnl9YCwgYGRlZmluZSAke29yaWdpbmFsUXVlcnl9YF0uc2xpY2UoMCwyKTtcbiAgICAgICAgcmV0dXJuIFtdOyAvLyBPciByZXR1cm4gZW1wdHkgdG8ganVzdCB1c2UgdGhlIG1haW4gcXVlcnlcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLnF1ZXJpZXMgJiYgQXJyYXkuaXNBcnJheShkYXRhLnF1ZXJpZXMpKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnF1ZXJpZXMgYXMgc3RyaW5nW107XG4gICAgICB9XG4gICAgICBjb25zb2xlLndhcm4oJ0dlbmVyYXRlZCBxdWVyaWVzIHJlc3BvbnNlIHdhcyBub3QgaW4gdGhlIGV4cGVjdGVkIGZvcm1hdDonLCBkYXRhKTtcbiAgICAgIHJldHVybiBbXTsgLy8gUmV0dXJuIGVtcHR5IGlmIGZvcm1hdCBpcyBub3QgYXMgZXhwZWN0ZWRcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIGZldGNoR2VuZXJhdGVkUXVlcmllczpcIiwgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIGVtcHR5IG9yIHRocm93LCBzaW1pbGFyIHRvIHRoZSAhcmVzcG9uc2Uub2sgY2FzZVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgc2VhcmNoIHN1Ym1pc3Npb25cbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcXVlcnkpIHtcbiAgICAgIHNldEVycm9yTWVzc2FnZShcIlBsZWFzZSBlbnRlciBhIHF1ZXJ5XCIpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvck1lc3NhZ2UoXCJcIiksIDMwMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0Q3VycmVudFNlYXJjaFN0YWdlKCdnZW5lcmF0aW5nX3F1ZXJpZXMnKTtcbiAgICBzZXRFcnJvck1lc3NhZ2UoXCJcIik7XG5cbiAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSB7XG4gICAgICBzZXRDb252ZXJzYXRpb25JZChnZW5lcmF0ZUlkKCkpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBTdGVwIDE6IEdlbmVyYXRlIHJlbGF0ZWQgcXVlcmllcyBmcm9tIHRoZSBtYWluIHF1ZXJ5XG4gICAgICBzZXRDdXJyZW50U2VhcmNoU3RhZ2UoJ2dlbmVyYXRpbmdfcXVlcmllcycpO1xuICAgICAgY29uc3QgZ2VuZXJhdGVkUXVlcmllcyA9IGF3YWl0IGZldGNoR2VuZXJhdGVkUXVlcmllcyhxdWVyeSk7XG4gICAgICBjb25zb2xlLmxvZyhcIkdlbmVyYXRlZCBzdWItcXVlcmllczpcIiwgZ2VuZXJhdGVkUXVlcmllcyk7XG5cbiAgICAgIHNldEN1cnJlbnRTZWFyY2hTdGFnZSgnZmV0Y2hpbmdfc291cmNlcycpO1xuICAgICAgbGV0IGFsbFNvdXJjZXM6IFNvdXJjZVtdID0gW107XG4gICAgICAvLyBXZSdsbCB1c2UgdGhlIG1ldGFkYXRhIGZyb20gdGhlIGZpcnN0IHN1Y2Nlc3NmdWwgZmV0Y2ggZm9yIG5vdywgb3IgYWdncmVnYXRlIGlmIG5lZWRlZFxuICAgICAgbGV0IHByaW1hcnlNZXRhZGF0YTogU2VhcmNoTWV0YWRhdGEgfCBudWxsID0gbnVsbDsgXG5cbiAgICAgIC8vIFN0ZXAgMjogRmV0Y2ggc291cmNlcyBmb3IgdGhlIG9yaWdpbmFsIHF1ZXJ5IGFuZCBlYWNoIGdlbmVyYXRlZCBxdWVyeVxuICAgICAgLy8gRW5zdXJlICdxdWVyeScgKG9yaWdpbmFsIHVzZXIgcXVlcnkpIGlzIGFsd2F5cyBpbmNsdWRlZFxuICAgICAgY29uc3QgcXVlcmllc1RvRmV0Y2ggPSBbcXVlcnksIC4uLmdlbmVyYXRlZFF1ZXJpZXMuZmlsdGVyKHEgPT4gcSAhPT0gcXVlcnkpXTsgLy8gQWRkIG9yaWdpbmFsIHF1ZXJ5IGFuZCB1bmlxdWUgZ2VuZXJhdGVkIG9uZXNcblxuICAgICAgZm9yIChjb25zdCBxIG9mIHF1ZXJpZXNUb0ZldGNoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYEZldGNoaW5nIHNvdXJjZXMgZm9yIHF1ZXJ5OiBcIiR7cX1cImApO1xuICAgICAgICAgIGNvbnN0IHsgc291cmNlcywgbWV0YWRhdGEgfSA9IGF3YWl0IGZldGNoU291cmNlcyhxKTsgLy8gUGFzcyB0aGUgc3BlY2lmaWMgcXVlcnkgJ3EnXG4gICAgICAgICAgaWYgKHNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYWxsU291cmNlcyA9IGFsbFNvdXJjZXMuY29uY2F0KHNvdXJjZXMpO1xuICAgICAgICAgICAgaWYgKCFwcmltYXJ5TWV0YWRhdGEgJiYgbWV0YWRhdGEpIHsgLy8gU3RvcmUgdGhlIGZpcnN0IHZhbGlkIG1ldGFkYXRhXG4gICAgICAgICAgICAgIHByaW1hcnlNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gZmV0Y2ggc291cmNlcyBmb3Igc3ViLXF1ZXJ5IFwiJHtxfVwiOmAsIGVycik7XG4gICAgICAgICAgLy8gT3B0aW9uYWxseSwgaW5mb3JtIHRoZSB1c2VyIG9yIGp1c3QgcHJvY2VlZCB3aXRoIG90aGVyIHNvdXJjZXNcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBEZWR1cGxpY2F0ZSBzb3VyY2VzIGJhc2VkIG9uIFVSTCB0byBhdm9pZCByZWR1bmRhbnQgaW5mb3JtYXRpb25cbiAgICAgIGNvbnN0IHVuaXF1ZVNvdXJjZXMgPSBBcnJheS5mcm9tKG5ldyBNYXAoYWxsU291cmNlcy5tYXAocyA9PiBbcy51cmwsIHNdKSkudmFsdWVzKCkpO1xuICAgICAgY29uc29sZS5sb2coXCJUb3RhbCB1bmlxdWUgc291cmNlcyBmb3VuZDpcIiwgdW5pcXVlU291cmNlcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodW5pcXVlU291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldEVycm9yTWVzc2FnZShcIk5vIHJlbGV2YW50IHNvdXJjZXMgZm91bmQgZXZlbiBhZnRlciBxdWVyeSBleHBhbnNpb24uIFBsZWFzZSB0cnkgYSBkaWZmZXJlbnQgcXVlcnkgb3Igc2VhcmNoIGVuZ2luZS5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0U2VhcmNoTWV0YWRhdGEocHJpbWFyeU1ldGFkYXRhIHx8IG51bGwpOyAvLyBVc2UgdGhlIHN0b3JlZCBwcmltYXJ5IG1ldGFkYXRhXG5cbiAgICAgIC8vIERldGVybWluZSBmYWxsYmFjayBzdGF0dXMgYmFzZWQgb24gdGhlIHByaW1hcnkgbWV0YWRhdGFcbiAgICAgIGNvbnN0IGlzRmFsbGJhY2sgPSBwcmltYXJ5TWV0YWRhdGE/LmZhbGxiYWNrID09PSB0cnVlO1xuICAgICAgaWYgKGlzRmFsbGJhY2spIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2luZyBmYWxsYmFjayBzb3VyY2UgZHVlIHRvIGV4dHJhY3Rpb24gaXNzdWVzIChiYXNlZCBvbiBwcmltYXJ5IHF1ZXJ5KS5cIik7XG4gICAgICB9XG5cbiAgICAgIHNldEN1cnJlbnRTZWFyY2hTdGFnZSgnc3ludGhlc2l6aW5nX2Fuc3dlcicpO1xuICAgICAgYXdhaXQgcHJvY2Vzc0Fuc3dlcih1bmlxdWVTb3VyY2VzLCBpc0ZhbGxiYWNrKTsgLy8gUGFzcyBhbGwgdW5pcXVlIHNvdXJjZXNcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7IFxuICAgICAgc2V0Q3VycmVudFNlYXJjaFN0YWdlKCdpZGxlJyk7XG4gICAgICBjb25zb2xlLmVycm9yKFwiU2VhcmNoIGVycm9yIGluIGhhbmRsZVNlYXJjaDpcIiwgZXJyb3IpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2VUZXh0ID0gZXJyb3IubWVzc2FnZSB8fCBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHNlYXJjaC5cIjtcbiAgICAgIHNldEVycm9yTWVzc2FnZShgRXJyb3IgZHVyaW5nIGVuaGFuY2VkIHNlYXJjaDogJHtlcnJvck1lc3NhZ2VUZXh0fS4gUGxlYXNlIHRyeSBhZ2Fpbi5gKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRmV0Y2ggc291cmNlcyBmcm9tIEFQSVxuICBjb25zdCBmZXRjaFNvdXJjZXMgPSBhc3luYyAoY3VycmVudFF1ZXJ5OiBzdHJpbmcgPSBxdWVyeSkgPT4geyAvLyBNT0RJRklFRDogQWRkZWQgY3VycmVudFF1ZXJ5IHBhcmFtZXRlclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL3NvdXJjZXNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHF1ZXJ5OiBjdXJyZW50UXVlcnksIC8vIE1PRElGSUVEOiBVc2UgY3VycmVudFF1ZXJ5XG4gICAgICAgIHNlYXJjaEVuZ2luZSxcbiAgICAgICAgc291cmNlQ291bnQ6IDMgLy8gTU9ESUZJRUQ6IFJlcXVlc3QgZmV3ZXIgc291cmNlcyBwZXIgc3ViLXF1ZXJ5XG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAgc291cmNlczogZGF0YS5zb3VyY2VzIGFzIFNvdXJjZVtdLFxuICAgICAgbWV0YWRhdGE6IGRhdGEubWV0YWRhdGEgYXMgU2VhcmNoTWV0YWRhdGFcbiAgICB9O1xuICB9O1xuXG4gIC8vIFByb2Nlc3MgdGhlIGFuc3dlciBmcm9tIHNvdXJjZXNcbiAgY29uc3QgcHJvY2Vzc0Fuc3dlciA9IGFzeW5jIChzb3VyY2VzOiBTb3VyY2VbXSwgaXNGYWxsYmFjazogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBhIGRldGFpbGVkIHByb21wdCB3aXRoIHNvdXJjZSBpbmZvcm1hdGlvblxuICAgICAgbGV0IHByb21wdDtcblxuICAgICAgaWYgKGlzRmFsbGJhY2spIHtcbiAgICAgICAgLy8gU3BlY2lhbCBwcm9tcHQgZm9yIGZhbGxiYWNrIG1vZGVcbiAgICAgICAgcHJvbXB0ID0gZW5kZW50YFByb3ZpZGUgYSBoZWxwZnVsIGFuc3dlciB0byB0aGUgcXVlcnkgXCIke3F1ZXJ5fVwiIGJhc2VkIG9uIHRoZSBmb2xsb3dpbmcgbGltaXRlZCBpbmZvcm1hdGlvbi5cbiAgICAgICAgQmUgaG9uZXN0IGFib3V0IGxpbWl0YXRpb25zIGluIHRoZSBhdmFpbGFibGUgZGF0YS4gSWYgeW91IGNhbid0IGFuc3dlciB0aGUgcXVlcnkgd2VsbCwgc3VnZ2VzdCB3YXlzIHRoZSB1c2VyIGNvdWxkIHJlZmluZSB0aGVpciBzZWFyY2guXG4gICAgICAgIERvIG5vdCBtYWtlIHVwIGluZm9ybWF0aW9uIHRoYXQgaXNuJ3QgaW4gdGhlIHNvdXJjZXMuXG5cbiAgICAgICAgJHtzb3VyY2VzLm1hcCgoc291cmNlLCBpZHgpID0+XG4gICAgICAgICAgYFNvdXJjZSBbJHtpZHggKyAxfV06ICR7c291cmNlLnRpdGxlIHx8ICdVbnRpdGxlZCd9XG4gICAgICAgICAgVVJMOiAke3NvdXJjZS51cmx9XG4gICAgICAgICAgQ29udGVudDogJHtzb3VyY2UudGV4dH1gXG4gICAgICAgICkuam9pbihcIlxcblxcblwiKX1cbiAgICAgICAgYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFN0YW5kYXJkIHByb21wdCBmb3Igbm9ybWFsIG1vZGVcbiAgICAgICAgcHJvbXB0ID0gZW5kZW50YFByb3ZpZGUgYSBjb21wcmVoZW5zaXZlIGFuc3dlciB0byB0aGUgcXVlcnkgXCIke3F1ZXJ5fVwiIGJhc2VkIG9uIHRoZSBmb2xsb3dpbmcgc291cmNlcy5cbiAgICAgICAgQmUgYWNjdXJhdGUsIGhlbHBmdWwsIGFuZCBjaXRlIHNvdXJjZXMgYXMgWzFdLCBbMl0sIGV0Yy4gYWZ0ZXIgZWFjaCBzZW50ZW5jZSB0aGF0IHVzZXMgaW5mb3JtYXRpb24gZnJvbSB0aGF0IHNvdXJjZS5cblxuICAgICAgICAke3NvdXJjZXMubWFwKChzb3VyY2UsIGlkeCkgPT5cbiAgICAgICAgICBgU291cmNlIFske2lkeCArIDF9XTogJHtzb3VyY2UudGl0bGUgfHwgJ1VudGl0bGVkJ31cbiAgICAgICAgICBVUkw6ICR7c291cmNlLnVybH1cbiAgICAgICAgICBDb250ZW50OiAke3NvdXJjZS50ZXh0fWBcbiAgICAgICAgKS5qb2luKFwiXFxuXFxuXCIpfVxuICAgICAgICBgO1xuICAgICAgfVxuXG4gICAgICAvLyBTZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBBUElcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2Fuc3dlclwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIHByZXZpb3VzTWVzc2FnZXM6IFtdIC8vIEZvciBmb2xsb3ctdXAgcXVlc3Rpb25zLCB3ZSB3b3VsZCBpbmNsdWRlIHByZXZpb3VzIG1lc3NhZ2VzIGhlcmVcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgIH1cblxuICAgICAgLy8gUGFyc2UgdGhlIEpTT04gcmVzcG9uc2VcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgc2VhcmNoIHF1ZXJ5IHdpdGggdGltZXN0YW1wIGFuZCBtZXRhZGF0YVxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgIG9uU2VhcmNoKHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHNvdXJjZUxpbmtzOiBzb3VyY2VzLm1hcCgoc291cmNlKSA9PiBzb3VyY2UudXJsKSxcbiAgICAgICAgY29udmVyc2F0aW9uSWQsXG4gICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgc2VhcmNoRW5naW5lXG4gICAgICB9KTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBhbnN3ZXIgd2l0aCB0aGUgcmVzcG9uc2UgY29udGVudFxuICAgICAgaWYgKGRhdGEuY29udGVudCkge1xuICAgICAgICBvbkFuc3dlclVwZGF0ZShkYXRhLmNvbnRlbnQpO1xuICAgICAgICBvbkRvbmUodHJ1ZSk7XG4gICAgICAgIHNldEN1cnJlbnRTZWFyY2hTdGFnZSgnaWRsZScpO1xuICAgICAgfSBlbHNlIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgcmVxdWVzdDpcIiwgZXJyKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgc2V0RXJyb3JNZXNzYWdlKGVyci5tZXNzYWdlIHx8IFwiRXJyb3IgcHJvY2Vzc2luZyB5b3VyIHJlcXVlc3QuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgb25BbnN3ZXJVcGRhdGUoXCJFcnJvciBwcm9jZXNzaW5nIHlvdXIgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBzZXRDdXJyZW50U2VhcmNoU3RhZ2UoJ2lkbGUnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIGtleWJvYXJkIGlucHV0XG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBoYW5kbGVTZWFyY2goKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2F2ZSBzZXR0aW5nc1xuICBjb25zdCBoYW5kbGVTYXZlU2V0dGluZ3MgPSAoKSA9PiB7XG4gICAgLy8gU2F2ZSBwcmVmZXJlbmNlc1xuICAgIHNhdmVVc2VyUHJlZmVyZW5jZXMoe1xuICAgICAgdGhlbWUsXG4gICAgICBkZWZhdWx0U2VhcmNoRW5naW5lOiBcImFsbFwiIC8vIEFsd2F5cyBzYXZlIFwiYWxsXCIgYXMgdGhlIGRlZmF1bHRcbiAgICB9KTtcblxuICAgIC8vIEFwcGx5IHRoZW1lXG4gICAgc2V0VGhlbWUodGhlbWUpO1xuXG4gICAgLy8gQ2xvc2Ugc2V0dGluZ3NcbiAgICBzZXRTaG93U2V0dGluZ3MoZmFsc2UpO1xuICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gUmVzZXQgc2V0dGluZ3MgdG8gZGVmYXVsdHNcbiAgY29uc3QgaGFuZGxlUmVzZXRTZXR0aW5ncyA9ICgpID0+IHtcbiAgICBzZXRTZWFyY2hFbmdpbmUoXCJhbGxcIik7XG4gICAgc2V0VGhlbWVTdGF0ZShcInN5c3RlbVwiKTtcbiAgfTtcblxuICAvLyBUb2dnbGUgdGhlbWUgYmV0d2VlbiBsaWdodCBhbmQgZGFya1xuICBjb25zdCB0b2dnbGVUaGVtZSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdUaGVtZSA9IHRoZW1lID09PSAnbGlnaHQnID8gJ2RhcmsnIDogJ2xpZ2h0JztcbiAgICBzZXRUaGVtZVN0YXRlKG5ld1RoZW1lKTtcbiAgICBzZXRUaGVtZShuZXdUaGVtZSk7XG4gIH07XG5cbiAgLy8gSGFuZGxlIHZvaWNlIGlucHV0XG4gIGNvbnN0IGhhbmRsZVZvaWNlSW5wdXQgPSAoKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgYnJvd3NlciBzdXBwb3J0cyBzcGVlY2ggcmVjb2duaXRpb25cbiAgICBpZiAoISgnd2Via2l0U3BlZWNoUmVjb2duaXRpb24nIGluIHdpbmRvdykgJiYgISgnU3BlZWNoUmVjb2duaXRpb24nIGluIHdpbmRvdykpIHtcbiAgICAgIHNldEVycm9yTWVzc2FnZShcIlZvaWNlIGlucHV0IGlzIG5vdCBzdXBwb3J0ZWQgaW4geW91ciBicm93c2VyXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBAdHMtaWdub3JlIC0gVHlwZVNjcmlwdCBkb2Vzbid0IGtub3cgYWJvdXQgd2Via2l0U3BlZWNoUmVjb2duaXRpb25cbiAgICAgIGNvbnN0IFNwZWVjaFJlY29nbml0aW9uID0gd2luZG93LlNwZWVjaFJlY29nbml0aW9uIHx8IHdpbmRvdy53ZWJraXRTcGVlY2hSZWNvZ25pdGlvbjtcbiAgICAgIGNvbnN0IHJlY29nbml0aW9uID0gbmV3IFNwZWVjaFJlY29nbml0aW9uKCk7XG5cbiAgICAgIHJlY29nbml0aW9uLmxhbmcgPSAnZW4tVVMnO1xuICAgICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSBmYWxzZTtcbiAgICAgIHJlY29nbml0aW9uLm1heEFsdGVybmF0aXZlcyA9IDE7XG5cbiAgICAgIHNldElzTGlzdGVuaW5nKHRydWUpO1xuXG4gICAgICByZWNvZ25pdGlvbi5vbnJlc3VsdCA9IChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHRyYW5zY3JpcHQgPSBldmVudC5yZXN1bHRzWzBdWzBdLnRyYW5zY3JpcHQ7XG4gICAgICAgIHNldFF1ZXJ5KHRyYW5zY3JpcHQpO1xuICAgICAgICBzZXRJc0xpc3RlbmluZyhmYWxzZSk7XG4gICAgICB9O1xuXG4gICAgICByZWNvZ25pdGlvbi5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0xpc3RlbmluZyhmYWxzZSk7XG4gICAgICAgIHNldEVycm9yTWVzc2FnZShcIkVycm9yIHJlY29nbml6aW5nIHNwZWVjaFwiKTtcbiAgICAgIH07XG5cbiAgICAgIHJlY29nbml0aW9uLm9uZW5kID0gKCkgPT4ge1xuICAgICAgICBzZXRJc0xpc3RlbmluZyhmYWxzZSk7XG4gICAgICB9O1xuXG4gICAgICByZWNvZ25pdGlvbi5zdGFydCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiU3BlZWNoIHJlY29nbml0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBzZXRJc0xpc3RlbmluZyhmYWxzZSk7XG4gICAgICBzZXRFcnJvck1lc3NhZ2UoXCJFcnJvciBzdGFydGluZyB2b2ljZSBpbnB1dFwiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSW5pdGlhbGl6ZSBjb21wb25lbnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBHZXQgdXNlciBwcmVmZXJlbmNlc1xuICAgIGNvbnN0IHByZWZlcmVuY2VzID0gZ2V0VXNlclByZWZlcmVuY2VzKCk7XG5cbiAgICAvLyBTZXQgc2VhcmNoIGVuZ2luZSB0byBcImFsbFwiIGJ5IGRlZmF1bHRcbiAgICBzZXRTZWFyY2hFbmdpbmUoXCJhbGxcIik7XG5cbiAgICAvLyBTZXQgdGhlbWUgZnJvbSBwcmVmZXJlbmNlc1xuICAgIHNldFRoZW1lU3RhdGUocHJlZmVyZW5jZXMudGhlbWUpO1xuXG4gICAgLy8gQXBwbHkgdGhlbWVcbiAgICBhcHBseVRoZW1lKHByZWZlcmVuY2VzLnRoZW1lKTtcblxuICAgIC8vIEZvY3VzIGlucHV0XG4gICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBkYXJrOmJnLVsjMTgxODFDXSB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1bI0Q0RDREOF0gdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMzAwXCI+XG4gICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgPFNlYXJjaFNrZWxldG9uIGN1cnJlbnRTdGFnZT17Y3VycmVudFNlYXJjaFN0YWdlfSAvPlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIGZsZXggaC1mdWxsIHctZnVsbCBtYXgtdy1bODAwcHhdIGZsZXgtY29sIGl0ZW1zLWNlbnRlciBzcGFjZS15LTYgcHgtNCBwdC0yMCBzbTpwdC00MFwiPlxuICAgICAgICAgIHsvKiBMb2dvIGFuZCB0aXRsZSAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICA8SWNvbkJvbHQgc2l6ZT17MzZ9IGNsYXNzTmFtZT1cInRleHQtYmx1ZS01MDBcIiAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0yIHRleHQtY2VudGVyIHRleHQtNHhsIGZvbnQtYm9sZFwiPlZzZWFyY2g8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBFcnJvciBtZXNzYWdlICovfVxuICAgICAgICAgIHtlcnJvck1lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctWzYwMHB4XSByb3VuZGVkLW1kIGJnLXJlZC0xMDAgZGFyazpiZy1yZWQtOTAwLzMwIHAtMyB0ZXh0LXJlZC04MDAgZGFyazp0ZXh0LXJlZC0yMDBcIj5cbiAgICAgICAgICAgICAgPHA+e2Vycm9yTWVzc2FnZX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIFNlYXJjaCBpbnB1dCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbFwiPlxuICAgICAgICAgICAgPEljb25TZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgdy0xMCBsZWZ0LTEgaC02IHJvdW5kZWQtZnVsbCBvcGFjaXR5LTUwIHNtOmxlZnQtMyBzbTp0b3AtNCBzbTpoLTggdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIiAvPlxuXG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xMiB3LWZ1bGwgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItemluYy02MDAgYmctd2hpdGUgZGFyazpiZy1bIzJBMkEzMV0gcHItMjQgcGwtMTEgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwIGRhcms6Zm9jdXM6Ym9yZGVyLWJsdWUtNDAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBkYXJrOmZvY3VzOnJpbmctYmx1ZS00MDAgc206aC0xNiBzbTpweS0yIHNtOnByLTMyIHNtOnBsLTE2IHNtOnRleHQtbGcgc2hhZG93LXNtXCJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFzayBhbnl0aGluZy4uLlwiXG4gICAgICAgICAgICAgIHZhbHVlPXtxdWVyeX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTGlzdGVuaW5nfVxuICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgey8qIFZvaWNlIGlucHV0IGJ1dHRvbiAqL31cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVm9pY2VJbnB1dH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTGlzdGVuaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSByaWdodC0xNiB0b3AtMiBoLTggdy04IHJvdW5kZWQtZnVsbCBwLTEuNSBzbTpyaWdodC0yMCBzbTp0b3AtNCBzbTpoLTggc206dy04XG4gICAgICAgICAgICAgICAgJHtpc0xpc3RlbmluZ1xuICAgICAgICAgICAgICAgICAgPyAnYmctcmVkLTUwMCBhbmltYXRlLXB1bHNlJ1xuICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0yMDAgZGFyazpiZy16aW5jLTcwMCBob3ZlcjpiZy1ncmF5LTMwMCBkYXJrOmhvdmVyOmJnLXppbmMtNjAwJ31gfVxuICAgICAgICAgICAgICB0aXRsZT1cIlZvaWNlIHNlYXJjaFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uTWljcm9waG9uZSBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTIwMFwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgey8qIFNlYXJjaCBidXR0b24gKi99XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMiB0b3AtMiBoLTggdy04IHJvdW5kZWQtZnVsbCBiZy1ibHVlLTUwMCBwLTEuNSBob3ZlcjpjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ibHVlLTYwMCBzbTpyaWdodC0zIHNtOnRvcC00IHNtOmgtOCBzbTp3LThcIlxuICAgICAgICAgICAgICB0aXRsZT1cIlNlYXJjaFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uQXJyb3dSaWdodCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEFjdGlvbiBidXR0b25zICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBjdXJzb3ItcG9pbnRlciBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLXppbmMtNjAwIHB4LTQgcHktMiB0ZXh0LXNtIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctemluYy03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93U2V0dGluZ3MoIXNob3dTZXR0aW5ncyl9XG4gICAgICAgICAgICAgIHRpdGxlPVwiU2V0dGluZ3NcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvblNldHRpbmdzIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICA8c3Bhbj57c2hvd1NldHRpbmdzID8gXCJIaWRlXCIgOiBcIlNob3dcIn0gU2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItemluYy02MDAgcHgtNCBweS0yIHRleHQtc20gaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy16aW5jLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVRoZW1lfVxuICAgICAgICAgICAgICB0aXRsZT1cIlRvZ2dsZSB0aGVtZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0aGVtZSA9PT0gJ2RhcmsnID8gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8SWNvblN1biBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkxpZ2h0IE1vZGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxJY29uTW9vbiBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkRhcmsgTW9kZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFNldHRpbmdzIHBhbmVsICovfVxuICAgICAgICAgIHtzaG93U2V0dGluZ3MgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctWzYwMHB4XSBzcGFjZS15LTQgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLXppbmMtNjAwIGJnLXdoaXRlIGRhcms6YmctWyMyQTJBMzFdIHAtNiBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLXppbmMtNzAwIHBiLTJcIj5TZXR0aW5nczwvaDM+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgcHQtMlwiPlxuXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIG1iLTFcIj5UaGVtZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLXJhZGlvIHRleHQtYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhlbWUgPT09ICdsaWdodCd9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gc2V0VGhlbWVTdGF0ZSgnbGlnaHQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj5MaWdodDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tcmFkaW8gdGV4dC1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGVtZSA9PT0gJ2RhcmsnfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHNldFRoZW1lU3RhdGUoJ2RhcmsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj5EYXJrPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1yYWRpbyB0ZXh0LWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoZW1lID09PSAnc3lzdGVtJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBzZXRUaGVtZVN0YXRlKCdzeXN0ZW0nKX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj5TeXN0ZW08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTIgcHQtNFwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGN1cnNvci1wb2ludGVyIGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLXppbmMtNjAwIGJnLWJsdWUtNTAwIHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtd2hpdGUgaG92ZXI6YmctYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlU2V0dGluZ3N9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFNhdmUgU2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIHNwYWNlLXgtMiByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItemluYy02MDAgYmctZ3JheS0yMDAgZGFyazpiZy16aW5jLTcwMCBweC00IHB5LTIgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTMwMCBkYXJrOmhvdmVyOmJnLXppbmMtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVzZXRTZXR0aW5nc31cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgUmVzZXQgdG8gRGVmYXVsdHNcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogU2VhcmNoIHRpcHMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IHRleHQtY2VudGVyIHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIDxwPlRyeSBzZWFyY2hpbmcgZm9yOiBcIkhvdyBkb2VzIHF1YW50dW0gY29tcHV0aW5nIHdvcms/XCIgb3IgXCJMYXRlc3QgZGV2ZWxvcG1lbnRzIGluIEFJXCI8L3A+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yXCI+UG93ZXJlZCBieSBDZXJlYnJhcyBsbGFtYS00LXNjb3V0LTE3Yi0xNmUtaW5zdHJ1Y3Q8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG4iXSwibmFtZXMiOlsiU2VhcmNoU2tlbGV0b24iLCJnZW5lcmF0ZUlkIiwiZ2V0VXNlclByZWZlcmVuY2VzIiwic2F2ZVVzZXJQcmVmZXJlbmNlcyIsImFwcGx5VGhlbWUiLCJzZXRUaGVtZSIsIkljb25BcnJvd1JpZ2h0IiwiSWNvbkJvbHQiLCJJY29uTWljcm9waG9uZSIsIkljb25Nb29uIiwiSWNvblNlYXJjaCIsIkljb25TZXR0aW5ncyIsIkljb25TdW4iLCJlbmRlbnQiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIlNlYXJjaCIsIm9uU2VhcmNoIiwib25BbnN3ZXJVcGRhdGUiLCJvbkRvbmUiLCJpbnB1dFJlZiIsInF1ZXJ5Iiwic2V0UXVlcnkiLCJzaG93U2V0dGluZ3MiLCJzZXRTaG93U2V0dGluZ3MiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImN1cnJlbnRTZWFyY2hTdGFnZSIsInNldEN1cnJlbnRTZWFyY2hTdGFnZSIsInNlYXJjaEVuZ2luZSIsInNldFNlYXJjaEVuZ2luZSIsImNvbnZlcnNhdGlvbklkIiwic2V0Q29udmVyc2F0aW9uSWQiLCJ0aGVtZSIsInNldFRoZW1lU3RhdGUiLCJlcnJvck1lc3NhZ2UiLCJzZXRFcnJvck1lc3NhZ2UiLCJzZWFyY2hNZXRhZGF0YSIsInNldFNlYXJjaE1ldGFkYXRhIiwiaXNMaXN0ZW5pbmciLCJzZXRJc0xpc3RlbmluZyIsImZldGNoR2VuZXJhdGVkUXVlcmllcyIsIm9yaWdpbmFsUXVlcnkiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZXJyb3JEYXRhIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwid2FybiIsImRhdGEiLCJxdWVyaWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiaGFuZGxlU2VhcmNoIiwic2V0VGltZW91dCIsImdlbmVyYXRlZFF1ZXJpZXMiLCJhbGxTb3VyY2VzIiwicHJpbWFyeU1ldGFkYXRhIiwicXVlcmllc1RvRmV0Y2giLCJmaWx0ZXIiLCJxIiwic291cmNlcyIsIm1ldGFkYXRhIiwiZmV0Y2hTb3VyY2VzIiwibGVuZ3RoIiwiY29uY2F0IiwiZXJyIiwidW5pcXVlU291cmNlcyIsImZyb20iLCJNYXAiLCJtYXAiLCJzIiwidXJsIiwidmFsdWVzIiwiaXNGYWxsYmFjayIsImZhbGxiYWNrIiwicHJvY2Vzc0Fuc3dlciIsImVycm9yTWVzc2FnZVRleHQiLCJtZXNzYWdlIiwiY3VycmVudFF1ZXJ5Iiwic291cmNlQ291bnQiLCJFcnJvciIsInN0YXR1c1RleHQiLCJwcm9tcHQiLCJzb3VyY2UiLCJpZHgiLCJ0aXRsZSIsInRleHQiLCJqb2luIiwicHJldmlvdXNNZXNzYWdlcyIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNvdXJjZUxpbmtzIiwiY29udGVudCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5IiwiaGFuZGxlU2F2ZVNldHRpbmdzIiwiZGVmYXVsdFNlYXJjaEVuZ2luZSIsImN1cnJlbnQiLCJmb2N1cyIsImhhbmRsZVJlc2V0U2V0dGluZ3MiLCJ0b2dnbGVUaGVtZSIsIm5ld1RoZW1lIiwiaGFuZGxlVm9pY2VJbnB1dCIsIndpbmRvdyIsIlNwZWVjaFJlY29nbml0aW9uIiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iLCJyZWNvZ25pdGlvbiIsImxhbmciLCJpbnRlcmltUmVzdWx0cyIsIm1heEFsdGVybmF0aXZlcyIsIm9ucmVzdWx0IiwiZXZlbnQiLCJ0cmFuc2NyaXB0IiwicmVzdWx0cyIsIm9uZXJyb3IiLCJvbmVuZCIsInN0YXJ0IiwicHJlZmVyZW5jZXMiLCJkaXYiLCJjbGFzc05hbWUiLCJjdXJyZW50U3RhZ2UiLCJzaXplIiwicCIsImlucHV0IiwicmVmIiwidHlwZSIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIm9uS2V5RG93biIsImRpc2FibGVkIiwiYnV0dG9uIiwib25DbGljayIsInNwYW4iLCJoMyIsImxhYmVsIiwiY2hlY2tlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Search.tsx\n");

/***/ }),

/***/ "./components/SearchSkeleton.tsx":
/*!***************************************!*\
  !*** ./components/SearchSkeleton.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"styled-jsx/style\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst stageMessages = {\n    idle: \"Initializing search...\",\n    generating_queries: \"Generating smarter questions...\",\n    fetching_sources: \"Gathering information from the web...\",\n    synthesizing_answer: \"Putting it all together for you...\"\n};\nconst SearchSkeleton = ({ currentStage  })=>{\n    const stages = [\n        \"generating_queries\",\n        \"fetching_sources\",\n        \"synthesizing_answer\"\n    ];\n    const currentStageIndex = stages.indexOf(currentStage);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"jsx-9870a8c55ef59a89\" + \" \" + \"flex items-center justify-center pt-64 sm:pt-72 flex-col w-full max-w-2xl mx-auto px-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-9870a8c55ef59a89\" + \" \" + \"w-full\",\n                children: stages.map((stage, index)=>{\n                    const isActive = index === currentStageIndex;\n                    const isCompleted = index < currentStageIndex;\n                    const isFuture = index > currentStageIndex;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"jsx-9870a8c55ef59a89\" + \" \" + \"flex items-center mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-9870a8c55ef59a89\" + \" \" + \"flex flex-col items-center mr-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-9870a8c55ef59a89\" + \" \" + `w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300 \n                    ${isCompleted ? \"bg-blue-500 border-blue-500\" : \"\"}\n                    ${isActive ? \"bg-blue-500 border-blue-500 animate-pulse\" : \"\"}\n                    ${isFuture ? \"bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600\" : \"\"}\n                  `,\n                                        children: [\n                                            isCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                fill: \"none\",\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: \"2\",\n                                                viewBox: \"0 0 24 24\",\n                                                stroke: \"currentColor\",\n                                                className: \"jsx-9870a8c55ef59a89\" + \" \" + \"w-5 h-5 text-white\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M5 13l4 4L19 7\",\n                                                    className: \"jsx-9870a8c55ef59a89\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                                    lineNumber: 44,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                                lineNumber: 43,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            isActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"jsx-9870a8c55ef59a89\" + \" \" + \"w-3 h-3 bg-white rounded-full\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                                lineNumber: 48,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            isFuture && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"jsx-9870a8c55ef59a89\" + \" \" + \"w-3 h-3 bg-gray-400 dark:bg-gray-500 rounded-full\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                                lineNumber: 51,\n                                                columnNumber: 22\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                        lineNumber: 35,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    index < stages.length - 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-9870a8c55ef59a89\" + \" \" + `w-0.5 h-8 mt-1 transition-all duration-300 \n                    ${isCompleted ? \"bg-blue-500\" : \"bg-gray-300 dark:bg-gray-600\"}\n                  `\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                        lineNumber: 55,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                lineNumber: 34,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"jsx-9870a8c55ef59a89\" + \" \" + `transition-opacity duration-300 ${isActive || isCompleted ? \"opacity-100\" : \"opacity-50\"}`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"jsx-9870a8c55ef59a89\" + \" \" + `text-lg font-medium ${isActive ? \"text-blue-600 dark:text-blue-400\" : \"text-gray-800 dark:text-gray-200\"}`,\n                                        children: stageMessages[stage]\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                        lineNumber: 61,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    isActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"jsx-9870a8c55ef59a89\" + \" \" + \"h-2 w-32 bg-gray-300 dark:bg-gray-600 rounded-full mt-2 overflow-hidden\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"jsx-9870a8c55ef59a89\" + \" \" + \"h-full bg-blue-500 animate-progress-bar\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                            lineNumber: 66,\n                                            columnNumber: 25\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 21\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                                lineNumber: 60,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, stage, true, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 13\n                    }, undefined);\n                })\n            }, void 0, false, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, undefined),\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"9870a8c55ef59a89\",\n                children: \".animate-progress-bar.jsx-9870a8c55ef59a89{-webkit-animation:progressBarAnimation 2s linear infinite;-moz-animation:progressBarAnimation 2s linear infinite;-o-animation:progressBarAnimation 2s linear infinite;animation:progressBarAnimation 2s linear infinite}@-webkit-keyframes progressBarAnimation{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);transform:translatex(100%)}}@-moz-keyframes progressBarAnimation{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{-moz-transform:translatex(100%);transform:translatex(100%)}}@-o-keyframes progressBarAnimation{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-o-transform:translatex(100%);transform:translatex(100%)}}@keyframes progressBarAnimation{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}}\"\n            }, void 0, false, void 0, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-9870a8c55ef59a89\" + \" \" + \"mt-8 text-sm text-gray-500 dark:text-gray-400\",\n                children: \"Vsearch is working to find the best answer for you...\"\n            }, void 0, false, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n                lineNumber: 83,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/components/SearchSkeleton.tsx\",\n        lineNumber: 25,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchSkeleton);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1NlYXJjaFNrZWxldG9uLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMEI7QUFZMUIsTUFBTUMsZ0JBQTZDO0lBQ2pEQyxNQUFNO0lBQ05DLG9CQUFvQjtJQUNwQkMsa0JBQWtCO0lBQ2xCQyxxQkFBcUI7QUFDdkI7QUFFQSxNQUFNQyxpQkFBZ0QsQ0FBQyxFQUFFQyxhQUFZLEVBQUUsR0FBSztJQUMxRSxNQUFNQyxTQUF3QjtRQUFDO1FBQXNCO1FBQW9CO0tBQXNCO0lBQy9GLE1BQU1DLG9CQUFvQkQsT0FBT0UsT0FBTyxDQUFDSDtJQUV6QyxxQkFDRSw4REFBQ0k7a0RBQWM7OzBCQUNiLDhEQUFDQTswREFBYzswQkFDWkgsT0FBT0ksR0FBRyxDQUFDLENBQUNDLE9BQU9DLFFBQVU7b0JBQzVCLE1BQU1DLFdBQVdELFVBQVVMO29CQUMzQixNQUFNTyxjQUFjRixRQUFRTDtvQkFDNUIsTUFBTVEsV0FBV0gsUUFBUUw7b0JBRXpCLHFCQUNFLDhEQUFDRTtrRUFBMEI7OzBDQUN6Qiw4REFBQ0E7MEVBQWM7O2tEQUNiLDhEQUFDQTtrRkFDWSxDQUFDO29CQUNWLEVBQUVLLGNBQWMsZ0NBQWdDLEVBQUUsQ0FBQztvQkFDbkQsRUFBRUQsV0FBVyw4Q0FBOEMsRUFBRSxDQUFDO29CQUM5RCxFQUFFRSxXQUFXLHNFQUFzRSxFQUFFLENBQUM7a0JBQ3hGLENBQUM7OzRDQUVBRCw2QkFDQyw4REFBQ0U7Z0RBQW1DQyxNQUFLO2dEQUFPQyxlQUFjO2dEQUFRQyxnQkFBZTtnREFBUUMsYUFBWTtnREFBSUMsU0FBUTtnREFBWUMsUUFBTzswRkFBekg7MERBQ2IsNEVBQUNDO29EQUFLQyxHQUFFOzs7Ozs7Ozs7Ozs7NENBR1hYLDBCQUNDLDhEQUFDSjswRkFBYzs7Ozs7OzRDQUVoQk0sMEJBQ0UsOERBQUNOOzBGQUFjOzs7Ozs7Ozs7Ozs7b0NBR25CRyxRQUFRTixPQUFPbUIsTUFBTSxHQUFHLG1CQUN2Qiw4REFBQ2hCO2tGQUFlLENBQUM7b0JBQ2YsRUFBRUssY0FBYyxnQkFBZ0IsOEJBQThCLENBQUM7a0JBQ2pFLENBQUM7Ozs7Ozs7Ozs7OzswQ0FHTCw4REFBQ0w7MEVBQWUsQ0FBQyxnQ0FBZ0MsRUFBRUksWUFBWUMsY0FBYyxnQkFBZ0IsWUFBWSxDQUFDLENBQUM7O2tEQUN6Ryw4REFBQ1k7a0ZBQWMsQ0FBQyxvQkFBb0IsRUFBRWIsV0FBVyxxQ0FBcUMsa0NBQWtDLENBQUMsQ0FBQztrREFDdkhkLGFBQWEsQ0FBQ1ksTUFBTTs7Ozs7O29DQUV0QkUsMEJBQ0csOERBQUNKO2tGQUFjO2tEQUNYLDRFQUFDQTtzRkFBYzs7Ozs7Ozs7Ozs7Ozs7Ozs7O3VCQWpDakJFOzs7OztnQkF1Q2Q7Ozs7Ozs7Ozs7MEJBV0YsOERBQUNGOzBEQUFjOzBCQUFnRDs7Ozs7Ozs7Ozs7O0FBS3JFO0FBRUEsaUVBQWVMLGNBQWNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92c2VhcmNoLy4vY29tcG9uZW50cy9TZWFyY2hTa2VsZXRvbi50c3g/M2UzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgU2VhcmNoU2tlbGV0b25Qcm9wcyB7XG4gIGN1cnJlbnRTdGFnZTogU2VhcmNoU3RhZ2U7XG59XG5cbmV4cG9ydCB0eXBlIFNlYXJjaFN0YWdlID0gXG4gIHwgJ2lkbGUnXG4gIHwgJ2dlbmVyYXRpbmdfcXVlcmllcydcbiAgfCAnZmV0Y2hpbmdfc291cmNlcydcbiAgfCAnc3ludGhlc2l6aW5nX2Fuc3dlcic7XG5cbmNvbnN0IHN0YWdlTWVzc2FnZXM6IFJlY29yZDxTZWFyY2hTdGFnZSwgc3RyaW5nPiA9IHtcbiAgaWRsZTogJ0luaXRpYWxpemluZyBzZWFyY2guLi4nLCAvLyBTaG91bGQgbm90IHR5cGljYWxseSBiZSBzaG93biBpZiBsb2FkaW5nIGlzIHRydWVcbiAgZ2VuZXJhdGluZ19xdWVyaWVzOiAnR2VuZXJhdGluZyBzbWFydGVyIHF1ZXN0aW9ucy4uLicsXG4gIGZldGNoaW5nX3NvdXJjZXM6ICdHYXRoZXJpbmcgaW5mb3JtYXRpb24gZnJvbSB0aGUgd2ViLi4uJyxcbiAgc3ludGhlc2l6aW5nX2Fuc3dlcjogJ1B1dHRpbmcgaXQgYWxsIHRvZ2V0aGVyIGZvciB5b3UuLi4nLFxufTtcblxuY29uc3QgU2VhcmNoU2tlbGV0b246IFJlYWN0LkZDPFNlYXJjaFNrZWxldG9uUHJvcHM+ID0gKHsgY3VycmVudFN0YWdlIH0pID0+IHtcbiAgY29uc3Qgc3RhZ2VzOiBTZWFyY2hTdGFnZVtdID0gWydnZW5lcmF0aW5nX3F1ZXJpZXMnLCAnZmV0Y2hpbmdfc291cmNlcycsICdzeW50aGVzaXppbmdfYW5zd2VyJ107XG4gIGNvbnN0IGN1cnJlbnRTdGFnZUluZGV4ID0gc3RhZ2VzLmluZGV4T2YoY3VycmVudFN0YWdlKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHQtNjQgc206cHQtNzIgZmxleC1jb2wgdy1mdWxsIG1heC13LTJ4bCBteC1hdXRvIHB4LTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgIHtzdGFnZXMubWFwKChzdGFnZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGluZGV4ID09PSBjdXJyZW50U3RhZ2VJbmRleDtcbiAgICAgICAgICBjb25zdCBpc0NvbXBsZXRlZCA9IGluZGV4IDwgY3VycmVudFN0YWdlSW5kZXg7XG4gICAgICAgICAgY29uc3QgaXNGdXR1cmUgPSBpbmRleCA+IGN1cnJlbnRTdGFnZUluZGV4O1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYga2V5PXtzdGFnZX0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbWItNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIG1yLTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTggaC04IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBib3JkZXItMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgXG4gICAgICAgICAgICAgICAgICAgICR7aXNDb21wbGV0ZWQgPyAnYmctYmx1ZS01MDAgYm9yZGVyLWJsdWUtNTAwJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAke2lzQWN0aXZlID8gJ2JnLWJsdWUtNTAwIGJvcmRlci1ibHVlLTUwMCBhbmltYXRlLXB1bHNlJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAke2lzRnV0dXJlID8gJ2JnLWdyYXktMjAwIGRhcms6YmctZ3JheS03MDAgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7aXNDb21wbGV0ZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC13aGl0ZVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPVwiMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTUgMTNsNCA0TDE5IDdcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtpc0FjdGl2ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy13aGl0ZSByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICB7aXNGdXR1cmUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIGJnLWdyYXktNDAwIGRhcms6YmctZ3JheS01MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtpbmRleCA8IHN0YWdlcy5sZW5ndGggLSAxICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy0wLjUgaC04IG10LTEgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIFxuICAgICAgICAgICAgICAgICAgICAke2lzQ29tcGxldGVkID8gJ2JnLWJsdWUtNTAwJyA6ICdiZy1ncmF5LTMwMCBkYXJrOmJnLWdyYXktNjAwJ31cbiAgICAgICAgICAgICAgICAgIGB9PjwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0zMDAgJHtpc0FjdGl2ZSB8fCBpc0NvbXBsZXRlZCA/ICdvcGFjaXR5LTEwMCcgOiAnb3BhY2l0eS01MCd9YH0+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT17YHRleHQtbGcgZm9udC1tZWRpdW0gJHtpc0FjdGl2ZSA/ICd0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMCcgOiAndGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDAnfWB9PlxuICAgICAgICAgICAgICAgICAge3N0YWdlTWVzc2FnZXNbc3RhZ2VdfVxuICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAge2lzQWN0aXZlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTIgdy0zMiBiZy1ncmF5LTMwMCBkYXJrOmJnLWdyYXktNjAwIHJvdW5kZWQtZnVsbCBtdC0yIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgYmctYmx1ZS01MDAgYW5pbWF0ZS1wcm9ncmVzcy1iYXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAuYW5pbWF0ZS1wcm9ncmVzcy1iYXIge1xuICAgICAgICAgIGFuaW1hdGlvbjogcHJvZ3Jlc3NCYXJBbmltYXRpb24gMnMgbGluZWFyIGluZmluaXRlO1xuICAgICAgICB9XG4gICAgICAgIEBrZXlmcmFtZXMgcHJvZ3Jlc3NCYXJBbmltYXRpb24ge1xuICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgfVxuICAgICAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IH1cbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgVnNlYXJjaCBpcyB3b3JraW5nIHRvIGZpbmQgdGhlIGJlc3QgYW5zd2VyIGZvciB5b3UuLi5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoU2tlbGV0b247Il0sIm5hbWVzIjpbIlJlYWN0Iiwic3RhZ2VNZXNzYWdlcyIsImlkbGUiLCJnZW5lcmF0aW5nX3F1ZXJpZXMiLCJmZXRjaGluZ19zb3VyY2VzIiwic3ludGhlc2l6aW5nX2Fuc3dlciIsIlNlYXJjaFNrZWxldG9uIiwiY3VycmVudFN0YWdlIiwic3RhZ2VzIiwiY3VycmVudFN0YWdlSW5kZXgiLCJpbmRleE9mIiwiZGl2IiwibWFwIiwic3RhZ2UiLCJpbmRleCIsImlzQWN0aXZlIiwiaXNDb21wbGV0ZWQiLCJpc0Z1dHVyZSIsInN2ZyIsImZpbGwiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsInZpZXdCb3giLCJzdHJva2UiLCJwYXRoIiwiZCIsImxlbmd0aCIsImgzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/SearchSkeleton.tsx\n");

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_Answer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/Answer */ \"./components/Answer.tsx\");\n/* harmony import */ var _components_Search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Search */ \"./components/Search.tsx\");\n/* harmony import */ var _utils_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/theme */ \"./utils/theme.ts\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _components_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/DropdownMenu */ \"./components/DropdownMenu.tsx\");\n\n\n\n\n\n\n\nfunction Home() {\n    // State for search and answer\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)({\n        query: \"\",\n        sourceLinks: []\n    });\n    const [answer, setAnswer] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(\"\");\n    const [done, setDone] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n    // Handle answer updates\n    const handleAnswerUpdate = (value)=>{\n        setAnswer(value);\n    };\n    // Reset search\n    const handleReset = ()=>{\n        setAnswer(\"\");\n        setSearchQuery({\n            query: \"\",\n            sourceLinks: []\n        });\n        setDone(false);\n        // Scroll to top\n        window.scrollTo({\n            top: 0,\n            behavior: \"smooth\"\n        });\n    };\n    // Initialize theme on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(()=>{\n        (0,_utils_theme__WEBPACK_IMPORTED_MODULE_3__.initTheme)();\n        // Add dark mode class to document for initial load\n        const htmlElement = document.documentElement;\n        if (localStorage.getItem(\"vsearch_theme\") === \"dark\" || !localStorage.getItem(\"vsearch_theme\") && window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n            htmlElement.classList.add(\"dark\");\n        }\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_4___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: searchQuery.query ? `${searchQuery.query} - Vsearch` : \"Vsearch - AI-powered search\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"AI-powered search with Cerebras llama-4-scout model. Get accurate answers with sources.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 47,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:title\",\n                        content: searchQuery.query ? `${searchQuery.query} - Vsearch` : \"Vsearch - AI-powered search\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:description\",\n                        content: \"AI-powered search with Cerebras llama-4-scout model. Get accurate answers with sources.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 61,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:type\",\n                        content: \"website\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 62,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:url\",\n                        content: \"https://vsearch.vercel.app\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 63,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:image\",\n                        content: \"https://vsearch.vercel.app/og-image.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 64,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"twitter:card\",\n                        content: \"summary_large_image\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"twitter:title\",\n                        content: searchQuery.query ? `${searchQuery.query} - Vsearch` : \"Vsearch - AI-powered search\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 67,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"twitter:description\",\n                        content: \"AI-powered search with Cerebras llama-4-scout model. Get accurate answers with sources.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 68,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"twitter:image\",\n                        content: \"https://vsearch.vercel.app/og-image.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 69,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                lineNumber: 45,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-screen bg-gray-50 dark:bg-[#18181C] text-gray-900 dark:text-[#D4D4D8] transition-colors duration-300\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed bottom-4 left-4 z-50\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                            fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                            lineNumber: 75,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 9\n                    }, this),\n                    answer ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Answer__WEBPACK_IMPORTED_MODULE_1__.Answer, {\n                        searchQuery: searchQuery,\n                        answer: answer,\n                        done: done,\n                        onReset: handleReset,\n                        onAnswerUpdate: handleAnswerUpdate\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 80,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Search__WEBPACK_IMPORTED_MODULE_2__.Search, {\n                        onSearch: setSearchQuery,\n                        onAnswerUpdate: (value)=>setAnswer((prev)=>prev + value),\n                        onDone: setDone\n                    }, void 0, false, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 88,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                        className: \"py-6 px-4 text-center text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-zinc-800\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"Powered by Cerebras llama-4-scout-17b-16e-instruct\"\n                            }, void 0, false, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                                lineNumber: 97,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-1\",\n                                children: [\n                                    \"\\xa9 \",\n                                    new Date().getFullYear(),\n                                    \" Vsearch\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                                lineNumber: 98,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                        lineNumber: 96,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/aniketkumar/Documents/GitHub/Vsearch/pages/index.tsx\",\n                lineNumber: 72,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qzt3QkFDVmtDLGdCQUFnQixDQUFDMUIsUUFBVUosVUFBVSxDQUFDZ0MsT0FBU0EsT0FBTzVCO3dCQUN0RDZCLFFBQVEvQjs7Ozs7NEJBRVg7a0NBR0QsOERBQUNnQzt3QkFBT04sV0FBVTs7MENBQ2hCLDhEQUFDTzswQ0FBRTs7Ozs7OzBDQUNILDhEQUFDQTtnQ0FBRVAsV0FBVTs7b0NBQU87b0NBQUcsSUFBSVEsT0FBT0MsV0FBVztvQ0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSzFELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92c2VhcmNoLy4vcGFnZXMvaW5kZXgudHN4PzA3ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQW5zd2VyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQW5zd2VyXCI7XG5pbXBvcnQgeyBTZWFyY2ggfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWFyY2hcIjtcbmltcG9ydCB7IFNlYXJjaFF1ZXJ5IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBpbml0VGhlbWUgfSBmcm9tIFwiLi4vdXRpbHMvdGhlbWVcIjtcbmltcG9ydCB7IEljb25CcmFuZEdpdGh1YiB9IGZyb20gXCJAdGFibGVyL2ljb25zLXJlYWN0XCI7XG5pbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgRHJvcGRvd25NZW51IGZyb20gXCIuLi9jb21wb25lbnRzL0Ryb3Bkb3duTWVudVwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICAvLyBTdGF0ZSBmb3Igc2VhcmNoIGFuZCBhbnN3ZXJcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZTxTZWFyY2hRdWVyeT4oeyBxdWVyeTogXCJcIiwgc291cmNlTGlua3M6IFtdIH0pO1xuICBjb25zdCBbYW5zd2VyLCBzZXRBbnN3ZXJdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW2RvbmUsIHNldERvbmVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8vIEhhbmRsZSBhbnN3ZXIgdXBkYXRlc1xuICBjb25zdCBoYW5kbGVBbnN3ZXJVcGRhdGUgPSAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldEFuc3dlcih2YWx1ZSk7XG4gIH07XG5cbiAgLy8gUmVzZXQgc2VhcmNoXG4gIGNvbnN0IGhhbmRsZVJlc2V0ID0gKCkgPT4ge1xuICAgIHNldEFuc3dlcihcIlwiKTtcbiAgICBzZXRTZWFyY2hRdWVyeSh7IHF1ZXJ5OiBcIlwiLCBzb3VyY2VMaW5rczogW10gfSk7XG4gICAgc2V0RG9uZShmYWxzZSk7XG4gICAgLy8gU2Nyb2xsIHRvIHRvcFxuICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9O1xuXG4gIC8vIEluaXRpYWxpemUgdGhlbWUgb24gY29tcG9uZW50IG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaW5pdFRoZW1lKCk7XG5cbiAgICAvLyBBZGQgZGFyayBtb2RlIGNsYXNzIHRvIGRvY3VtZW50IGZvciBpbml0aWFsIGxvYWRcbiAgICBjb25zdCBodG1sRWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZzZWFyY2hfdGhlbWUnKSA9PT0gJ2RhcmsnIHx8XG4gICAgICAgICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZzZWFyY2hfdGhlbWUnKSAmJlxuICAgICAgICAgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzKSkge1xuICAgICAgaHRtbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+e3NlYXJjaFF1ZXJ5LnF1ZXJ5ID8gYCR7c2VhcmNoUXVlcnkucXVlcnl9IC0gVnNlYXJjaGAgOiAnVnNlYXJjaCAtIEFJLXBvd2VyZWQgc2VhcmNoJ308L3RpdGxlPlxuICAgICAgICA8bWV0YVxuICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgY29udGVudD1cIkFJLXBvd2VyZWQgc2VhcmNoIHdpdGggQ2VyZWJyYXMgbGxhbWEtNC1zY291dCBtb2RlbC4gR2V0IGFjY3VyYXRlIGFuc3dlcnMgd2l0aCBzb3VyY2VzLlwiXG4gICAgICAgIC8+XG4gICAgICAgIDxtZXRhXG4gICAgICAgICAgbmFtZT1cInZpZXdwb3J0XCJcbiAgICAgICAgICBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIlxuICAgICAgICAvPlxuICAgICAgICA8bGlua1xuICAgICAgICAgIHJlbD1cImljb25cIlxuICAgICAgICAgIGhyZWY9XCIvZmF2aWNvbi5wbmdcIlxuICAgICAgICAvPlxuICAgICAgICB7LyogQWRkIE9wZW4gR3JhcGggdGFncyBmb3IgYmV0dGVyIHNoYXJpbmcgKi99XG4gICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6dGl0bGVcIiBjb250ZW50PXtzZWFyY2hRdWVyeS5xdWVyeSA/IGAke3NlYXJjaFF1ZXJ5LnF1ZXJ5fSAtIFZzZWFyY2hgIDogJ1ZzZWFyY2ggLSBBSS1wb3dlcmVkIHNlYXJjaCd9IC8+XG4gICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6ZGVzY3JpcHRpb25cIiBjb250ZW50PVwiQUktcG93ZXJlZCBzZWFyY2ggd2l0aCBDZXJlYnJhcyBsbGFtYS00LXNjb3V0IG1vZGVsLiBHZXQgYWNjdXJhdGUgYW5zd2VycyB3aXRoIHNvdXJjZXMuXCIgLz5cbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzp0eXBlXCIgY29udGVudD1cIndlYnNpdGVcIiAvPlxuICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cIm9nOnVybFwiIGNvbnRlbnQ9XCJodHRwczovL3ZzZWFyY2gudmVyY2VsLmFwcFwiIC8+XG4gICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6aW1hZ2VcIiBjb250ZW50PVwiaHR0cHM6Ly92c2VhcmNoLnZlcmNlbC5hcHAvb2ctaW1hZ2UucG5nXCIgLz5cbiAgICAgICAgey8qIEFkZCBUd2l0dGVyIGNhcmQgKi99XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ0d2l0dGVyOmNhcmRcIiBjb250ZW50PVwic3VtbWFyeV9sYXJnZV9pbWFnZVwiIC8+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ0d2l0dGVyOnRpdGxlXCIgY29udGVudD17c2VhcmNoUXVlcnkucXVlcnkgPyBgJHtzZWFyY2hRdWVyeS5xdWVyeX0gLSBWc2VhcmNoYCA6ICdWc2VhcmNoIC0gQUktcG93ZXJlZCBzZWFyY2gnfSAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwidHdpdHRlcjpkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJBSS1wb3dlcmVkIHNlYXJjaCB3aXRoIENlcmVicmFzIGxsYW1hLTQtc2NvdXQgbW9kZWwuIEdldCBhY2N1cmF0ZSBhbnN3ZXJzIHdpdGggc291cmNlcy5cIiAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwidHdpdHRlcjppbWFnZVwiIGNvbnRlbnQ9XCJodHRwczovL3ZzZWFyY2gudmVyY2VsLmFwcC9vZy1pbWFnZS5wbmdcIiAvPlxuICAgICAgPC9IZWFkPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGRhcms6YmctWyMxODE4MUNdIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LVsjRDRENEQ4XSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgey8qIERyb3Bkb3duIG1lbnUgYXQgYm90dG9tIGxlZnQgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTQgbGVmdC00IHotNTBcIj5cbiAgICAgICAgICA8RHJvcGRvd25NZW51IC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBNYWluIGNvbnRlbnQgKi99XG4gICAgICAgIHthbnN3ZXIgPyAoXG4gICAgICAgICAgPEFuc3dlclxuICAgICAgICAgICAgc2VhcmNoUXVlcnk9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgYW5zd2VyPXthbnN3ZXJ9XG4gICAgICAgICAgICBkb25lPXtkb25lfVxuICAgICAgICAgICAgb25SZXNldD17aGFuZGxlUmVzZXR9XG4gICAgICAgICAgICBvbkFuc3dlclVwZGF0ZT17aGFuZGxlQW5zd2VyVXBkYXRlfVxuICAgICAgICAgIC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPFNlYXJjaFxuICAgICAgICAgICAgb25TZWFyY2g9e3NldFNlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgb25BbnN3ZXJVcGRhdGU9eyh2YWx1ZSkgPT4gc2V0QW5zd2VyKChwcmV2KSA9PiBwcmV2ICsgdmFsdWUpfVxuICAgICAgICAgICAgb25Eb25lPXtzZXREb25lfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEZvb3RlciAqL31cbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJweS02IHB4LTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItemluYy04MDBcIj5cbiAgICAgICAgICA8cD5Qb3dlcmVkIGJ5IENlcmVicmFzIGxsYW1hLTQtc2NvdXQtMTdiLTE2ZS1pbnN0cnVjdDwvcD5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xXCI+wqkge25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gVnNlYXJjaDwvcD5cbiAgICAgICAgPC9mb290ZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJBbnN3ZXIiLCJTZWFyY2giLCJpbml0VGhlbWUiLCJIZWFkIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJEcm9wZG93bk1lbnUiLCJIb21lIiwic2VhcmNoUXVlcnkiLCJzZXRTZWFyY2hRdWVyeSIsInF1ZXJ5Iiwic291cmNlTGlua3MiLCJhbnN3ZXIiLCJzZXRBbnN3ZXIiLCJkb25lIiwic2V0RG9uZSIsImhhbmRsZUFuc3dlclVwZGF0ZSIsInZhbHVlIiwiaGFuZGxlUmVzZXQiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwiaHRtbEVsZW1lbnQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImNsYXNzTGlzdCIsImFkZCIsInRpdGxlIiwibWV0YSIsIm5hbWUiLCJjb250ZW50IiwibGluayIsInJlbCIsImhyZWYiLCJwcm9wZXJ0eSIsImRpdiIsImNsYXNzTmFtZSIsIm9uUmVzZXQiLCJvbkFuc3dlclVwZGF0ZSIsIm9uU2VhcmNoIiwicHJldiIsIm9uRG9uZSIsImZvb3RlciIsInAiLCJEYXRlIiwiZ2V0RnVsbFllYXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.tsx\n");

/***/ }),

/***/ "./utils/history.ts":
/*!**************************!*\
  !*** ./utils/history.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addMessageToConversation\": () => (/* binding */ addMessageToConversation),\n/* harmony export */   \"clearSearchHistory\": () => (/* binding */ clearSearchHistory),\n/* harmony export */   \"deleteConversation\": () => (/* binding */ deleteConversation),\n/* harmony export */   \"generateId\": () => (/* binding */ generateId),\n/* harmony export */   \"getSearchHistory\": () => (/* binding */ getSearchHistory),\n/* harmony export */   \"getUserPreferences\": () => (/* binding */ getUserPreferences),\n/* harmony export */   \"saveToHistory\": () => (/* binding */ saveToHistory),\n/* harmony export */   \"saveUserPreferences\": () => (/* binding */ saveUserPreferences)\n/* harmony export */ });\n// Maximum number of history items to store by default\nconst DEFAULT_MAX_HISTORY = 50;\n/**\n * Save a search query to history\n */ function saveToHistory(query, answer) {\n    try {\n        // Skip if no query\n        if (!query.query.trim()) return;\n        // Get existing history\n        const history = getSearchHistory();\n        // Create conversation object\n        const conversation = {\n            id: query.conversationId || generateId(),\n            title: query.query,\n            messages: [\n                {\n                    role: \"user\",\n                    content: query.query,\n                    timestamp: query.timestamp || new Date().toISOString()\n                },\n                {\n                    role: \"assistant\",\n                    content: answer,\n                    timestamp: new Date().toISOString()\n                }\n            ],\n            createdAt: query.timestamp || new Date().toISOString(),\n            updatedAt: new Date().toISOString()\n        };\n        // Check if conversation already exists\n        const existingIndex = history.findIndex((item)=>item.id === conversation.id);\n        if (existingIndex >= 0) {\n            // Update existing conversation\n            history[existingIndex] = conversation;\n        } else {\n            // Add new conversation\n            history.unshift(conversation);\n        }\n        // Get user preferences\n        const preferences = getUserPreferences();\n        // Limit history size\n        const limitedHistory = history.slice(0, preferences.maxHistoryItems);\n        // Save to localStorage\n        localStorage.setItem(\"vsearch_history\", JSON.stringify(limitedHistory));\n    } catch (error) {\n        console.error(\"Error saving to history:\", error);\n    }\n}\n/**\n * Add a message to an existing conversation\n */ function addMessageToConversation(conversationId, message) {\n    try {\n        // Get existing history\n        const history = getSearchHistory();\n        // Find conversation\n        const conversationIndex = history.findIndex((item)=>item.id === conversationId);\n        if (conversationIndex >= 0) {\n            // Add message to conversation\n            history[conversationIndex].messages.push(message);\n            // Update timestamp\n            history[conversationIndex].updatedAt = new Date().toISOString();\n            // Save to localStorage\n            localStorage.setItem(\"vsearch_history\", JSON.stringify(history));\n        }\n    } catch (error) {\n        console.error(\"Error adding message to conversation:\", error);\n    }\n}\n/**\n * Get search history\n */ function getSearchHistory() {\n    try {\n        const historyJson = localStorage.getItem(\"vsearch_history\");\n        return historyJson ? JSON.parse(historyJson) : [];\n    } catch (error) {\n        console.error(\"Error getting search history:\", error);\n        return [];\n    }\n}\n/**\n * Clear search history\n */ function clearSearchHistory() {\n    try {\n        localStorage.removeItem(\"vsearch_history\");\n    } catch (error) {\n        console.error(\"Error clearing search history:\", error);\n    }\n}\n/**\n * Delete a specific conversation from history\n */ function deleteConversation(conversationId) {\n    try {\n        // Get existing history\n        const history = getSearchHistory();\n        // Filter out the conversation\n        const updatedHistory = history.filter((item)=>item.id !== conversationId);\n        // Save to localStorage\n        localStorage.setItem(\"vsearch_history\", JSON.stringify(updatedHistory));\n    } catch (error) {\n        console.error(\"Error deleting conversation:\", error);\n    }\n}\n/**\n * Get user preferences\n */ function getUserPreferences() {\n    try {\n        const preferencesJson = localStorage.getItem(\"vsearch_preferences\");\n        const defaultPreferences = {\n            theme: \"system\",\n            defaultSearchEngine: \"google\",\n            historyEnabled: true,\n            maxHistoryItems: DEFAULT_MAX_HISTORY\n        };\n        return preferencesJson ? {\n            ...defaultPreferences,\n            ...JSON.parse(preferencesJson)\n        } : defaultPreferences;\n    } catch (error) {\n        console.error(\"Error getting user preferences:\", error);\n        return {\n            theme: \"system\",\n            defaultSearchEngine: \"google\",\n            historyEnabled: true,\n            maxHistoryItems: DEFAULT_MAX_HISTORY\n        };\n    }\n}\n/**\n * Save user preferences\n */ function saveUserPreferences(preferences) {\n    try {\n        const currentPreferences = getUserPreferences();\n        const updatedPreferences = {\n            ...currentPreferences,\n            ...preferences\n        };\n        localStorage.setItem(\"vsearch_preferences\", JSON.stringify(updatedPreferences));\n    } catch (error) {\n        console.error(\"Error saving user preferences:\", error);\n    }\n}\n/**\n * Generate a unique ID\n */ function generateId() {\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU8sQ0FBQyx1QkFBdUJDLEtBQUtDLFNBQVMsQ0FBQ3NCO0lBQzdELEVBQUUsT0FBT3JCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7SUFDbEQ7QUFDRixDQUFDO0FBRUQ7O0NBRUMsR0FDTSxTQUFTdkIsYUFBcUI7SUFDbkMsT0FBTzZDLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHLE1BQU1ILEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHO0FBQy9GLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92c2VhcmNoLy4vdXRpbHMvaGlzdG9yeS50cz85MTFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnZlcnNhdGlvbiwgTWVzc2FnZSwgU2VhcmNoUXVlcnkgfSBmcm9tIFwiQC90eXBlc1wiO1xuXG4vLyBNYXhpbXVtIG51bWJlciBvZiBoaXN0b3J5IGl0ZW1zIHRvIHN0b3JlIGJ5IGRlZmF1bHRcbmNvbnN0IERFRkFVTFRfTUFYX0hJU1RPUlkgPSA1MDtcblxuLyoqXG4gKiBTYXZlIGEgc2VhcmNoIHF1ZXJ5IHRvIGhpc3RvcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhdmVUb0hpc3RvcnkocXVlcnk6IFNlYXJjaFF1ZXJ5LCBhbnN3ZXI6IHN0cmluZyk6IHZvaWQge1xuICB0cnkge1xuICAgIC8vIFNraXAgaWYgbm8gcXVlcnlcbiAgICBpZiAoIXF1ZXJ5LnF1ZXJ5LnRyaW0oKSkgcmV0dXJuO1xuXG4gICAgLy8gR2V0IGV4aXN0aW5nIGhpc3RvcnlcbiAgICBjb25zdCBoaXN0b3J5ID0gZ2V0U2VhcmNoSGlzdG9yeSgpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBjb252ZXJzYXRpb24gb2JqZWN0XG4gICAgY29uc3QgY29udmVyc2F0aW9uOiBDb252ZXJzYXRpb24gPSB7XG4gICAgICBpZDogcXVlcnkuY29udmVyc2F0aW9uSWQgfHwgZ2VuZXJhdGVJZCgpLFxuICAgICAgdGl0bGU6IHF1ZXJ5LnF1ZXJ5LFxuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogcXVlcnkucXVlcnksIHRpbWVzdGFtcDogcXVlcnkudGltZXN0YW1wIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9LFxuICAgICAgICB7IHJvbGU6IFwiYXNzaXN0YW50XCIsIGNvbnRlbnQ6IGFuc3dlciwgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfVxuICAgICAgXSxcbiAgICAgIGNyZWF0ZWRBdDogcXVlcnkudGltZXN0YW1wIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBjb252ZXJzYXRpb24gYWxyZWFkeSBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gaGlzdG9yeS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBjb252ZXJzYXRpb24uaWQpO1xuICAgIFxuICAgIGlmIChleGlzdGluZ0luZGV4ID49IDApIHtcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBjb252ZXJzYXRpb25cbiAgICAgIGhpc3RvcnlbZXhpc3RpbmdJbmRleF0gPSBjb252ZXJzYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEFkZCBuZXcgY29udmVyc2F0aW9uXG4gICAgICBoaXN0b3J5LnVuc2hpZnQoY29udmVyc2F0aW9uKTtcbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IHVzZXIgcHJlZmVyZW5jZXNcbiAgICBjb25zdCBwcmVmZXJlbmNlcyA9IGdldFVzZXJQcmVmZXJlbmNlcygpO1xuICAgIFxuICAgIC8vIExpbWl0IGhpc3Rvcnkgc2l6ZVxuICAgIGNvbnN0IGxpbWl0ZWRIaXN0b3J5ID0gaGlzdG9yeS5zbGljZSgwLCBwcmVmZXJlbmNlcy5tYXhIaXN0b3J5SXRlbXMpO1xuICAgIFxuICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZzZWFyY2hfaGlzdG9yeScsIEpTT04uc3RyaW5naWZ5KGxpbWl0ZWRIaXN0b3J5KSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHRvIGhpc3Rvcnk6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogQWRkIGEgbWVzc2FnZSB0byBhbiBleGlzdGluZyBjb252ZXJzYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZE1lc3NhZ2VUb0NvbnZlcnNhdGlvbihjb252ZXJzYXRpb25JZDogc3RyaW5nLCBtZXNzYWdlOiBNZXNzYWdlKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGV4aXN0aW5nIGhpc3RvcnlcbiAgICBjb25zdCBoaXN0b3J5ID0gZ2V0U2VhcmNoSGlzdG9yeSgpO1xuICAgIFxuICAgIC8vIEZpbmQgY29udmVyc2F0aW9uXG4gICAgY29uc3QgY29udmVyc2F0aW9uSW5kZXggPSBoaXN0b3J5LmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IGNvbnZlcnNhdGlvbklkKTtcbiAgICBcbiAgICBpZiAoY29udmVyc2F0aW9uSW5kZXggPj0gMCkge1xuICAgICAgLy8gQWRkIG1lc3NhZ2UgdG8gY29udmVyc2F0aW9uXG4gICAgICBoaXN0b3J5W2NvbnZlcnNhdGlvbkluZGV4XS5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGltZXN0YW1wXG4gICAgICBoaXN0b3J5W2NvbnZlcnNhdGlvbkluZGV4XS51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICBcbiAgICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndnNlYXJjaF9oaXN0b3J5JywgSlNPTi5zdHJpbmdpZnkoaGlzdG9yeSkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgbWVzc2FnZSB0byBjb252ZXJzYXRpb246JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IHNlYXJjaCBoaXN0b3J5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWFyY2hIaXN0b3J5KCk6IENvbnZlcnNhdGlvbltdIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBoaXN0b3J5SnNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2c2VhcmNoX2hpc3RvcnknKTtcbiAgICByZXR1cm4gaGlzdG9yeUpzb24gPyBKU09OLnBhcnNlKGhpc3RvcnlKc29uKSA6IFtdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgc2VhcmNoIGhpc3Rvcnk6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFyIHNlYXJjaCBoaXN0b3J5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclNlYXJjaEhpc3RvcnkoKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZzZWFyY2hfaGlzdG9yeScpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFyaW5nIHNlYXJjaCBoaXN0b3J5OicsIGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIHNwZWNpZmljIGNvbnZlcnNhdGlvbiBmcm9tIGhpc3RvcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb25JZDogc3RyaW5nKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGV4aXN0aW5nIGhpc3RvcnlcbiAgICBjb25zdCBoaXN0b3J5ID0gZ2V0U2VhcmNoSGlzdG9yeSgpO1xuICAgIFxuICAgIC8vIEZpbHRlciBvdXQgdGhlIGNvbnZlcnNhdGlvblxuICAgIGNvbnN0IHVwZGF0ZWRIaXN0b3J5ID0gaGlzdG9yeS5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBjb252ZXJzYXRpb25JZCk7XG4gICAgXG4gICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndnNlYXJjaF9oaXN0b3J5JywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZEhpc3RvcnkpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjb252ZXJzYXRpb246JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IHVzZXIgcHJlZmVyZW5jZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJQcmVmZXJlbmNlcygpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcmVmZXJlbmNlc0pzb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnNlYXJjaF9wcmVmZXJlbmNlcycpO1xuICAgIGNvbnN0IGRlZmF1bHRQcmVmZXJlbmNlcyA9IHtcbiAgICAgIHRoZW1lOiAnc3lzdGVtJyxcbiAgICAgIGRlZmF1bHRTZWFyY2hFbmdpbmU6ICdnb29nbGUnLFxuICAgICAgaGlzdG9yeUVuYWJsZWQ6IHRydWUsXG4gICAgICBtYXhIaXN0b3J5SXRlbXM6IERFRkFVTFRfTUFYX0hJU1RPUllcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBwcmVmZXJlbmNlc0pzb24gXG4gICAgICA/IHsgLi4uZGVmYXVsdFByZWZlcmVuY2VzLCAuLi5KU09OLnBhcnNlKHByZWZlcmVuY2VzSnNvbikgfVxuICAgICAgOiBkZWZhdWx0UHJlZmVyZW5jZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIHByZWZlcmVuY2VzOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgdGhlbWU6ICdzeXN0ZW0nLFxuICAgICAgZGVmYXVsdFNlYXJjaEVuZ2luZTogJ2dvb2dsZScsXG4gICAgICBoaXN0b3J5RW5hYmxlZDogdHJ1ZSxcbiAgICAgIG1heEhpc3RvcnlJdGVtczogREVGQVVMVF9NQVhfSElTVE9SWVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBTYXZlIHVzZXIgcHJlZmVyZW5jZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhdmVVc2VyUHJlZmVyZW5jZXMocHJlZmVyZW5jZXM6IFBhcnRpYWw8UmV0dXJuVHlwZTx0eXBlb2YgZ2V0VXNlclByZWZlcmVuY2VzPj4pOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjdXJyZW50UHJlZmVyZW5jZXMgPSBnZXRVc2VyUHJlZmVyZW5jZXMoKTtcbiAgICBjb25zdCB1cGRhdGVkUHJlZmVyZW5jZXMgPSB7IC4uLmN1cnJlbnRQcmVmZXJlbmNlcywgLi4ucHJlZmVyZW5jZXMgfTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndnNlYXJjaF9wcmVmZXJlbmNlcycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcmVmZXJlbmNlcykpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB1c2VyIHByZWZlcmVuY2VzOicsIGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIElEXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUlkKCk6IHN0cmluZyB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KTtcbn1cbiJdLCJuYW1lcyI6WyJERUZBVUxUX01BWF9ISVNUT1JZIiwic2F2ZVRvSGlzdG9yeSIsInF1ZXJ5IiwiYW5zd2VyIiwidHJpbSIsImhpc3RvcnkiLCJnZXRTZWFyY2hIaXN0b3J5IiwiY29udmVyc2F0aW9uIiwiaWQiLCJjb252ZXJzYXRpb25JZCIsImdlbmVyYXRlSWQiLCJ0aXRsZSIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwiaXRlbSIsInVuc2hpZnQiLCJwcmVmZXJlbmNlcyIsImdldFVzZXJQcmVmZXJlbmNlcyIsImxpbWl0ZWRIaXN0b3J5Iiwic2xpY2UiLCJtYXhIaXN0b3J5SXRlbXMiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwiY29uc29sZSIsImFkZE1lc3NhZ2VUb0NvbnZlcnNhdGlvbiIsIm1lc3NhZ2UiLCJjb252ZXJzYXRpb25JbmRleCIsInB1c2giLCJoaXN0b3J5SnNvbiIsImdldEl0ZW0iLCJwYXJzZSIsImNsZWFyU2VhcmNoSGlzdG9yeSIsInJlbW92ZUl0ZW0iLCJkZWxldGVDb252ZXJzYXRpb24iLCJ1cGRhdGVkSGlzdG9yeSIsImZpbHRlciIsInByZWZlcmVuY2VzSnNvbiIsImRlZmF1bHRQcmVmZXJlbmNlcyIsInRoZW1lIiwiZGVmYXVsdFNlYXJjaEVuZ2luZSIsImhpc3RvcnlFbmFibGVkIiwic2F2ZVVzZXJQcmVmZXJlbmNlcyIsImN1cnJlbnRQcmVmZXJlbmNlcyIsInVwZGF0ZWRQcmVmZXJlbmNlcyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/history.ts\n");

/***/ }),

/***/ "./utils/theme.ts":
/*!************************!*\
  !*** ./utils/theme.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"applyTheme\": () => (/* binding */ applyTheme),\n/* harmony export */   \"getTheme\": () => (/* binding */ getTheme),\n/* harmony export */   \"initTheme\": () => (/* binding */ initTheme),\n/* harmony export */   \"setTheme\": () => (/* binding */ setTheme)\n/* harmony export */ });\n/**\n * Get the current theme\n */ function getTheme() {\n    // Check if we're in the browser\n    if (true) {\n        return \"system\";\n    }\n    // Try to get theme from localStorage\n    try {\n        const savedTheme = localStorage.getItem(\"vsearch_theme\");\n        if (savedTheme && [\n            \"light\",\n            \"dark\",\n            \"system\"\n        ].includes(savedTheme)) {\n            return savedTheme;\n        }\n    } catch (error) {\n        console.error(\"Error getting theme from localStorage:\", error);\n    }\n    // Default to system\n    return \"system\";\n}\n/**\n * Set the theme\n */ function setTheme(theme) {\n    // Check if we're in the browser\n    if (true) {\n        return;\n    }\n    try {\n        // Save theme to localStorage\n        localStorage.setItem(\"vsearch_theme\", theme);\n        // Apply theme to document\n        applyTheme(theme);\n    } catch (error) {\n        console.error(\"Error setting theme:\", error);\n    }\n}\n/**\n * Apply theme to document\n */ function applyTheme(theme) {\n    // Check if we're in the browser\n    if (true) {\n        return;\n    }\n    const isDark = theme === \"dark\" || theme === \"system\" && window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n    // Apply dark mode class to document\n    if (isDark) {\n        document.documentElement.classList.add(\"dark\");\n    } else {\n        document.documentElement.classList.remove(\"dark\");\n    }\n}\n/**\n * Initialize theme\n */ function initTheme() {\n    // Check if we're in the browser\n    if (true) {\n        return;\n    }\n    // Get and apply theme\n    const theme = getTheme();\n    applyTheme(theme);\n    // Listen for system theme changes\n    if (theme === \"system\") {\n        const mediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\n        // Add listener for theme changes\n        mediaQuery.addEventListener(\"change\", ()=>{\n            applyTheme(\"system\");\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy90aGVtZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0NBRUMsR0FDTSxTQUFTQSxXQUFrQjtJQUNoQyxnQ0FBZ0M7SUFDaEMsSUFBSSxJQUFrQixFQUFhO1FBQ2pDLE9BQU87SUFDVCxDQUFDO0lBRUQscUNBQXFDO0lBQ3JDLElBQUk7UUFDRixNQUFNQyxhQUFhQyxhQUFhQyxPQUFPLENBQUM7UUFFeEMsSUFBSUYsY0FBYztZQUFDO1lBQVM7WUFBUTtTQUFTLENBQUNHLFFBQVEsQ0FBQ0gsYUFBYTtZQUNsRSxPQUFPQTtRQUNULENBQUM7SUFDSCxFQUFFLE9BQU9JLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDBDQUEwQ0E7SUFDMUQ7SUFFQSxvQkFBb0I7SUFDcEIsT0FBTztBQUNULENBQUM7QUFFRDs7Q0FFQyxHQUNNLFNBQVNFLFNBQVNDLEtBQVksRUFBUTtJQUMzQyxnQ0FBZ0M7SUFDaEMsSUFBSSxJQUFrQixFQUFhO1FBQ2pDO0lBQ0YsQ0FBQztJQUVELElBQUk7UUFDRiw2QkFBNkI7UUFDN0JOLGFBQWFPLE9BQU8sQ0FBQyxpQkFBaUJEO1FBRXRDLDBCQUEwQjtRQUMxQkUsV0FBV0Y7SUFDYixFQUFFLE9BQU9ILE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdCQUF3QkE7SUFDeEM7QUFDRixDQUFDO0FBRUQ7O0NBRUMsR0FDTSxTQUFTSyxXQUFXRixLQUFZLEVBQVE7SUFDN0MsZ0NBQWdDO0lBQ2hDLElBQUksSUFBa0IsRUFBYTtRQUNqQztJQUNGLENBQUM7SUFFRCxNQUFNRyxTQUNKSCxVQUFVLFVBQ1RBLFVBQVUsWUFBWUksT0FBT0MsVUFBVSxDQUFDLGdDQUFnQ0MsT0FBTztJQUVsRixvQ0FBb0M7SUFDcEMsSUFBSUgsUUFBUTtRQUNWSSxTQUFTQyxlQUFlLENBQUNDLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDO0lBQ3pDLE9BQU87UUFDTEgsU0FBU0MsZUFBZSxDQUFDQyxTQUFTLENBQUNFLE1BQU0sQ0FBQztJQUM1QyxDQUFDO0FBQ0gsQ0FBQztBQUVEOztDQUVDLEdBQ00sU0FBU0MsWUFBa0I7SUFDaEMsZ0NBQWdDO0lBQ2hDLElBQUksSUFBa0IsRUFBYTtRQUNqQztJQUNGLENBQUM7SUFFRCxzQkFBc0I7SUFDdEIsTUFBTVosUUFBUVI7SUFDZFUsV0FBV0Y7SUFFWCxrQ0FBa0M7SUFDbEMsSUFBSUEsVUFBVSxVQUFVO1FBQ3RCLE1BQU1hLGFBQWFULE9BQU9DLFVBQVUsQ0FBQztRQUVyQyxpQ0FBaUM7UUFDakNRLFdBQVdDLGdCQUFnQixDQUFDLFVBQVUsSUFBTTtZQUMxQ1osV0FBVztRQUNiO0lBQ0YsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92c2VhcmNoLy4vdXRpbHMvdGhlbWUudHM/M2FmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaGVtZSB9IGZyb20gXCJAL3R5cGVzXCI7XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IHRoZW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaGVtZSgpOiBUaGVtZSB7XG4gIC8vIENoZWNrIGlmIHdlJ3JlIGluIHRoZSBicm93c2VyXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAnc3lzdGVtJztcbiAgfVxuICBcbiAgLy8gVHJ5IHRvIGdldCB0aGVtZSBmcm9tIGxvY2FsU3RvcmFnZVxuICB0cnkge1xuICAgIGNvbnN0IHNhdmVkVGhlbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnNlYXJjaF90aGVtZScpIGFzIFRoZW1lIHwgbnVsbDtcbiAgICBcbiAgICBpZiAoc2F2ZWRUaGVtZSAmJiBbJ2xpZ2h0JywgJ2RhcmsnLCAnc3lzdGVtJ10uaW5jbHVkZXMoc2F2ZWRUaGVtZSkpIHtcbiAgICAgIHJldHVybiBzYXZlZFRoZW1lO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHRoZW1lIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgfVxuICBcbiAgLy8gRGVmYXVsdCB0byBzeXN0ZW1cbiAgcmV0dXJuICdzeXN0ZW0nO1xufVxuXG4vKipcbiAqIFNldCB0aGUgdGhlbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRoZW1lKHRoZW1lOiBUaGVtZSk6IHZvaWQge1xuICAvLyBDaGVjayBpZiB3ZSdyZSBpbiB0aGUgYnJvd3NlclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgLy8gU2F2ZSB0aGVtZSB0byBsb2NhbFN0b3JhZ2VcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndnNlYXJjaF90aGVtZScsIHRoZW1lKTtcbiAgICBcbiAgICAvLyBBcHBseSB0aGVtZSB0byBkb2N1bWVudFxuICAgIGFwcGx5VGhlbWUodGhlbWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdGhlbWU6JywgZXJyb3IpO1xuICB9XG59XG5cbi8qKlxuICogQXBwbHkgdGhlbWUgdG8gZG9jdW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5VGhlbWUodGhlbWU6IFRoZW1lKTogdm9pZCB7XG4gIC8vIENoZWNrIGlmIHdlJ3JlIGluIHRoZSBicm93c2VyXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgY29uc3QgaXNEYXJrID0gXG4gICAgdGhlbWUgPT09ICdkYXJrJyB8fCBcbiAgICAodGhlbWUgPT09ICdzeXN0ZW0nICYmIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcyk7XG4gIFxuICAvLyBBcHBseSBkYXJrIG1vZGUgY2xhc3MgdG8gZG9jdW1lbnRcbiAgaWYgKGlzRGFyaykge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRUaGVtZSgpOiB2b2lkIHtcbiAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gdGhlIGJyb3dzZXJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICAvLyBHZXQgYW5kIGFwcGx5IHRoZW1lXG4gIGNvbnN0IHRoZW1lID0gZ2V0VGhlbWUoKTtcbiAgYXBwbHlUaGVtZSh0aGVtZSk7XG4gIFxuICAvLyBMaXN0ZW4gZm9yIHN5c3RlbSB0aGVtZSBjaGFuZ2VzXG4gIGlmICh0aGVtZSA9PT0gJ3N5c3RlbScpIHtcbiAgICBjb25zdCBtZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKTtcbiAgICBcbiAgICAvLyBBZGQgbGlzdGVuZXIgZm9yIHRoZW1lIGNoYW5nZXNcbiAgICBtZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIGFwcGx5VGhlbWUoJ3N5c3RlbScpO1xuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0VGhlbWUiLCJzYXZlZFRoZW1lIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImluY2x1ZGVzIiwiZXJyb3IiLCJjb25zb2xlIiwic2V0VGhlbWUiLCJ0aGVtZSIsInNldEl0ZW0iLCJhcHBseVRoZW1lIiwiaXNEYXJrIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImluaXRUaGVtZSIsIm1lZGlhUXVlcnkiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/theme.ts\n");

/***/ }),

/***/ "@tabler/icons-react":
/*!**************************************!*\
  !*** external "@tabler/icons-react" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("@tabler/icons-react");

/***/ }),

/***/ "endent":
/*!*************************!*\
  !*** external "endent" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("endent");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next/head");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "styled-jsx/style":
/*!***********************************!*\
  !*** external "styled-jsx/style" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("styled-jsx/style");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/index.tsx"));
module.exports = __webpack_exports__;

})();